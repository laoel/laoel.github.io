[{"title":"Web常见漏洞库-v1.0","date":"2020-01-09T06:36:39.000Z","path":"2020/01/09/Web常见漏洞库-v1-0/","text":"有任何问题可留言评论，另有Excel版提供 https://github.com/laoel/testing-guide/blob/master/01-Web%E6%BC%8F%E6%B4%9E%E5%BA%93(%E5%B8%B8%E8%A7%81%E6%BC%8F%E6%B4%9E).xlsx XSS存储型XSS跨站脚本攻击漏洞级别高漏洞描述跨站脚本攻击是指应用程序没有对用户的输入，以及页面的输出进行严格地过滤，从而使恶意攻击者能往Web页面里插入恶意代码，当用户浏览该页面时，嵌入其中Web里面的恶意代码会被执行，从而达到恶意攻击者的特殊目的。漏洞危害恶意攻击者利用漏洞来窃取用户会话、账号，控制应用系统数据、网站挂马、控制受害者机器向其它网站发起攻击等等。修复建议1、检查所有用户可输入数据的地方是否有进行过滤或转义处理。包括但不限于这些字符：Javascript script src img onerror { } ( ) &lt; &gt; = , . ; : “ ‘ # ! / * \\。2、根据页面的输出背景环境，对输出进行编码或使用一个统一的规则和库做输出编码，使用安全框架进行安全编码。3、对于富文本框，使用白名单控制输入，而不是黑名单。4、在Cookie 上设置HTTPOnly标志，从而禁止客户端脚本访问Cookie。 反射型XSS跨站脚本攻击漏洞级别低漏洞描述跨站脚本攻击是指应用程序没有对用户的输入，以及页面的输出进行严格地过滤，从而使恶意攻击者能往Web页面里插入恶意代码，当用户浏览该页面时，嵌入其中Web里面的恶意代码会被执行，从而达到恶意攻击者的特殊目的。漏洞危害恶意攻击者利用此漏洞可进行钓鱼，窃取用户登录会话等危害。修复建议1、检查所有用户可输入数据的地方是否有进行过滤或转义处理。包括但不限于这些字符：Javascript script src img onerror { } ( ) &lt; &gt; = , . ; : “ ‘ # ! / * \\。2、根据页面的输出背景环境，对输出进行编码或使用一个统一的规则和库做输出编码，使用安全框架进行安全编码。3、对于富文本框，使用白名单控制输入，而不是黑名单。4、在Cookie 上设置HTTPOnly标志，从而禁止客户端脚本访问Cookie。 注入SQL注入漏洞级别高漏洞描述SQL注入是将Web页面的原URL、表单域或数据包输入的参数，修改拼接成SQL语句，传递给Web服务器，进而传给数据库服务器以执行数据库命令。漏洞危害恶意攻击者可能会利用SQL注入漏洞获取、篡改数据库数据，执行系统命令，甚至获取系统控制权限。修复建议1、使用全局过滤器，过滤特殊字符，正确处理数据类型。包括但不限于以下字符及字符串：select and or like regxpfrom where update exec order by having drop delete ( ) [ ] &lt; &gt; , . ; : ‘“ # % + - _ = / * @。2、预编译SQL语句，而不要动态组装SQL语句，否则必须确保在使用输入的数据组装成SQL语句之前，对特殊字符进行预处理。3、以最小权限执行SQL语句，限制远程连接数据库的IP地址范围。4、屏蔽错误回显，必要时，限制长度。 XML外部实体注入（XXE）漏洞级别高漏洞描述外部实体攻击，利用。XML文件的解析依赖libxml库，而libxml2.9以前的版本默认支持并开启了外部实体的引用，服务端解析用户提交的XML文件时，未对XML文件引用的外部实体（含外部普通实体和外部参数实体）做合适的处理，并且实体的URL支持file://和ftp://等协议。漏洞危害攻击者可以在XML文件中声明URI指向服务器本地的实体造成攻击。实体攻击可导致信息泄露、任意文件读取、代码执行等问题。修复建议1、检查所有用户可输入数据的地方是否有进行过滤或转义处理。包括但不限于这些字符：&lt; &gt; &amp; ‘ “ 。2、检查使用的底层XML解析库，使用JAVA语言提供的禁用外部实体的方法。 权限控制缺失越权访问漏洞级别高漏洞描述网站的页面权限控制不当，用户可访问不属于自己的页面并可修改数据。漏洞危害权限控制不当，会造成网站数据非法篡改等危害。修复建议1、验证一切来自客户端的参数，重点是和权限相关的参数，比如用户ID或者角色权限ID等。2、Session ID 和认证的Token做绑定，放在服务器的会话里，不发送给客户端。3、对于用户登录后涉及用户唯一信息的请求，每次都要验证检查所有权，敏感信息页面加随机数的参数，防止浏览器缓存内容。 未授权访问漏洞级别高/中漏洞描述网站的权限控制不当，需要登录的系统在未登录的情况下也可访问其相关页面，造成敏感信息泄露，严重可导致数据被恶意篡改等。漏洞危害造成敏感信息泄露，严重可导致数据被非法篡改。修复建议做好权限控制，需登录后访问的页面其权限不可包含空用户。 业务逻辑任意账号密码重置漏洞级别高漏洞描述用户修改密码时不需要去校验旧密码，又未对用户身份做校验，容易导致随便一个用户可修改任意用户的密码，或其它修改密码流程中出现了问题。漏洞危害攻击者可修改任意账号的密码，从而冒用其身份登录系统。修复建议根据具体情况给出具体建议。 任意用户名注册漏洞级别中漏洞描述注册流程若没有严格校验，容易出现安全问题，如短信验证码可被爆破得出，就可以使用任意手机号码注册账号。漏洞危害攻击者可注册任意用户名的账号，从而使用其身份登录系统。修复建议根据具体情况给出具体建议。 支付逻辑漏洞漏洞级别高漏洞描述在交易流程环节，需要对业务数据的完整性和一致性进行保护，特别是确保在用户客户端与服务、业务系统接口之间的数据传输的一致性，通常在订购类交易流程中，容易出现服务器端未对用户提交的业务数据进行强制校验，过度信赖客户端提交的业务数据而导致的商品金额篡改漏洞。漏洞危害攻击者可以超低价格或低于商品原价完成交易。修复建议1、商品信息（金额、折扣、数量、运费等）原始数据的校验应来自于服务器端，不应该完全相信客户端传递过来的值。2、服务器端对客户端提交的交易数据（如商品ID、商品数量、商品价格、运费等）的取值范围进行校验，将商品ID和商品价格与数据库中的数据对比校验，商品数量为大于零的整型数。3、服务器端在生成支付订单时，对支付订单中影响支付金额的所有因素（比如商品ID、商品数量、运费、商品价格、订单编号等）进行签名，对客户端提交的支付订单进行校验。4、金额超过指定值，进行人工审核。 短信验证码绕过漏洞级别中漏洞描述验证码一般容易出现绕过的问题，如可重复使用一个验证码值、删除请求包中的验证码参数等，甚至根本不进行校验。漏洞危害绕过验证码校验，进行下一步攻击。修复建议在服务器端实时刷新与校验验证码，确保验证码不能被重复使用、参数不能为空、不能被暴力破解等。 图形验证码绕过漏洞级别低漏洞描述验证码一般容易出现绕过的问题，如可重复使用一个验证码值、删除请求包中的验证码参数等，甚至根本不进行校验。漏洞危害绕过验证码校验，进行下一步攻击。修复建议在服务器端实时刷新与校验验证码，确保验证码不能被重复使用及参数不能为空。 短信轰炸漏洞级别中漏洞描述攻击者可以对指定手机号码短时间内重复发送很多条短信信息。漏洞危害对用户造成短信骚扰，同时消耗服务器资源。修复建议1、在服务器端限制发送短信的时间间隔至少为60秒以上。2、发送短信之前添加图形验证码校验。3、限制24小时内，针对同一手机号码发送短信的总次数。4、限制单个IP地址24小时内请求发送短信的次数。 URL跳转任意URL跳转漏洞级别低漏洞描述服务端未对传入的跳转url变量进行检查和控制，可能导致可恶意构造任意一个恶意地址，诱导用户跳转到恶意网站。由于是从可信的站点跳转出去的，用户会比较信任，所以跳转漏洞一般用于钓鱼攻击，通过转到恶意网站欺骗用户输入用户名和密码盗取用户信息，或欺骗用户进行金钱交易。漏洞危害容易进行钓鱼攻击。修复建议1、若跳转的URL事先是可以确定的，包括url和参数的值，则可以在后台先配置好，url参数只需传对应url的索引即可，通过索引找到对应具体url再进行跳转；2、若跳转的URL事先不确定，但其输入是由后台生成的（不是用户通过参数传人），则可以先生成好跳转链接然后进行签名，而跳转首先需要进行验证签名通过才能进行跳转；3、若1和2都不满足，url事先无法确定，只能通过前端参数传入，则必须在跳转的时候对url进行按规则校验：即控制url是否是你们公司授权的白名单或者是符合你们公司规则的URL。 弱口令弱口令漏洞漏洞级别高漏洞描述应用存在默认口令或口令较简单易被猜到。漏洞危害攻击者可以通过暴力破解等方法得到正确的账号，从而冒用他人身份进入系统。修复建议1、统一错误回显，如提示用户名或密码错误。2、使用安全有效的验证码校验机制。3、配置账号锁定策略，如错误登录3次以上锁定该账号10分钟。 暴力破解登录凭证可猜解漏洞级别低漏洞描述检测到登录凭证可使用手工猜解或者工具暴力破解，攻击者能够凭借猜解到的登录凭证登录系统，进行系统管理和进一步的入侵。漏洞危害攻击者容易猜解登录凭证，登录系统。修复建议1、统一错误回显，如提示用户名或密码错误。2、使用安全有效的验证码校验机制。3、配置账号锁定策略，如错误登录3次以上锁定该账号10分钟。 用户名枚举漏洞级别低漏洞描述通常在登录页面、找回密码页面、修改密码页面，如果提交错误的请求会有很多错误提示，通过这些错误提示可判断哪种情况下用户名是对的。漏洞危害攻击者可得出正确的用户名，为爆破正确的账号做准备。修复建议1、统一错误回显，并增加安全有效的图形验证码。2、使用安全有效的加密算法对关键字段进行加密保护，防解密和防篡改。 敏感信息泄露敏感信息泄露漏洞级别高/中/低漏洞描述检测到网站敏感信息泄露，这些信息包括配置文件、备份文件、SVN文件、网站源码包、用户名、密码、数据库相关信息、物理路径、内网IP、注释中的敏感信息等等，攻击者可能收集这些敏感信息，为下一步的入侵做好准备。漏洞危害攻击者可收集有关信息系统的敏感信息，如配置文件、备份文件、SVN文件、网站源码包、用户名、密码、数据库相关信息、物理路径、内网IP、注释中的敏感信息等等，为下一步入侵做准备。修复建议1、优化代码从而避免程序报错。2、屏蔽默认报错页面中的敏感信息，可自定义一个程序报错的页面，当程序报错时统一显示自定义的报错页面。3、删除或屏蔽相关敏感信息。 文件上传任意文件上传漏洞级别高/中漏洞描述现在大多数网站都有文件上传功能，用于上传文档、图片等操作。但是未对上传的文件进行严格的验证和过滤，就有可能导致攻击者上传恶意脚本文件。漏洞危害攻击者可上传恶意脚本，获取信息、控制网站，甚至控制服务器。修复建议1、在服务器上使用白名单对上传的文件进行严格的验证，只允许上传特定的文件类型。验证包括文件扩展名校验、文件类型（Content-Type）校验、MIME类型校验、检测上传元信息等等。2、文件上传的存储目录禁用执行权限。3、使用随机数改写文件名和文件路径，让用户不能轻易访问自己上传的文件。 目录遍历任意文件下载/读取（目录遍历）漏洞级别高漏洞描述许多Web服务器都不会验证或清理虚拟Web服务器根目录之外的路径请求。这个问题可让远程用户利用相对路径来转义Web服务器的根目录。漏洞危害攻击者可查看服务器上的任何文件（例如，数据库、用户信息或配置文件）的内容。修复建议1、在需要读取、下载特定文件的操作中使用白名单进行验证，建议使用正则表达式对用户的输入进行合法性判断。2、如果无法使用白名单验证，则使用黑名单进行过滤，过滤点号（.）、斜杠（/）、反斜杠（\\）、百分号（%）等恶意字符。3、限定文件访问范围。 文件包含文件包含漏洞漏洞级别高漏洞描述程序开发人员一般会把重复使用的函数写到单个文件中，需要使用某个函数时直接调用此文件，而无需再次编写，这中文件调用的过程一般被称为文件包含。通过函数包含文件时，由于没有对包含的文件名进行有效的过滤处理，被攻击者利用从而导致了包含了Web根目录以外的文件进来，就会导致文件信息的泄露甚至注入了恶意代码。漏洞危害攻击者可执行任意脚本代码控制网站控制服务器。修复建议1、严格检查变量是否已经初始化。2、严格判断包含中的参数是否外部可控。3、基于白名单的包含文件验证，验证被包含的文件是否在白名单中。4、尽量不要使用动态包含，可以在需要包含的页面固定写好，如：include(“func.php”)。5、对所有输入提交可能包含的文件地址，包括服务器本地文件及远程文件，进行严格的检查，参数中不允许出现../之类的目录跳转符。6、可以通过调用str_replace()函数实现相关敏感字符的过滤，一定程度上防御了远程文件包含。 配置不当Cookie伪造漏洞级别高漏洞描述Cookie伪造攻击指攻击者通过修改cookie（系统为了辨别用户身份而储存在用户本地终端上的数据，通常经过了加密处理），获得用户未授权信息，进而盗用身份的过程。漏洞危害可冒用他人账号的身份登入系统。修复建议对Cookie字段进行加密处理。 安装文件未删除漏洞级别高/中/低漏洞描述检测到网站安装文件未删除。在安装完网站后，应将相关的安装文件删除，以避免攻击者利用安装文件中的可能存在的漏洞获取网站敏感信息，甚至重新安装网站。漏洞危害可能利用安装文件可能存在的漏洞进行入侵。修复建议删除相关安装文件。 重放攻击漏洞级别高/低漏洞描述关键业务操作未作token或者唯一标识码，导致攻击者可以重复多次进行请求，导致恶意操作。如重复提交订单等问题。漏洞危害攻击者恶意或欺诈性地重复发送一个有效的数据包，如果服务器未检查此类重复提交的请求数据的有效性，那么转账充值等敏感操作将有可能会被重复执行。修复建议服务端应用程序应检查客户端提交的数据的唯一性，如使用流水号、时间戳、token等，并将流水号、时间戳等进行签名。 SSRF服务器端请求伪造（SSRF）漏洞级别高漏洞描述很多web应用都提供了从其他的服务器上获取数据的功能。使用用户指定的URL，web应用可以获取图片，下载文件，读取文件内容等。这个功能如果被恶意使用，可以利用存在缺陷的web应用作为代理攻击远程和本地的服务器。漏洞危害攻击者可以对外网、服务器所在内网、本地进行端口扫描，获取一些服务的banner信息,对内网web应用进行指纹识别以及利用file协议读取本地文件等。修复建议1、过滤内网服务器对公网服务器请求的响应。如果Web应用是获取某一类型的文件，在把返回结果展示给用户之前应先验证返回的信息是否符合文件类型标准，比如返回信息应为图片，如果返回信息是HTML，则停止将返回信息返回客户端。2、统一错误提示信息，避免用户可以根据错误信息来判断远端服务器的端口状态。3、在内网服务器的防火墙上限制公网服务器的请求端口为HTTP等协议常用端口，如：80、443、8080、8090。4、若公网服务器的内网IP与内网无业务通信，建议将公网服务器对应的内网IP列入黑名单，避免应用被用来获取内网数据。5、内网服务器禁用不必要的协议，仅允许HTTP和HTTPS请求，防止类似于file:///、gopher://、ftp:// 等协议引起的安全问题。 CORSCORS跨域资源共享漏洞漏洞级别中漏洞描述CORS是一个W3C标准，全称是”跨域资源共享”（Cross-origin resource sharing）。它允许浏览器向跨源(协议 + 域名 + 端口)服务器，发出XMLHttpRequest请求，从而克服了AJAX只能同源使用的限制。当配置存在缺陷时，如请求时Origin字段的值没有做限制，默认为，就会接受任意域名的请求。漏洞危害可造成敏感数据泄露。修复建议1、不要配置”Access-Control-Allow-Origin”为通配符”“ ，而且更为重要的是，要严格效验来自请求数据包中的”Origin”的值。当收到跨域请求的时候，要检查”Origin” 的值是否是一个可信的源，还要检查是否为null。2、避免使用”Access-Control-Allow-Credentials: true” （请求中带cookie）。3、减少”Access-Control-Allow-Methods”所允许的方法。 CSRFCSRF跨站请求伪造攻击漏洞级别中/低漏洞描述攻击者就可诱导客户机向该Web服务器误发请求，而该请求将视为真实请求。这可通过URL、图像装入XMLHttpRequest等来完成，并可导致数据暴露或意外的代码执行。如果用户当前已登录到受害者站点，请求将自动使用用户的凭证（包括会话cookie、IP地址和其他浏览器认证方法）。漏洞危害CSRF跨站请求伪造攻击可以在受害者毫不知情的情况下以受害者名义伪造请求发送给受攻击站点，从而在用户不知情的情况下执行在权限保护之下的操作。修复建议1、使用One-Time Tokens，不同的表单包不同的伪随机值。2、使用Cookie Hashing，所有表单都包含同一伪随机数。3、在表单中使用验证码，每次提交请求都要输入验证码。4、验证Referer字段。 远程代码执行struts2远程命令执行漏洞级别高漏洞描述Struts 2在2.3.15.1 之前的版本，对“action:”, “redirect:” 和 “redirectAction:” 后面的数据过滤不严格，由于其后面的数据会被作为OGNL表达式进行处理，从而攻击者可以构造恶意的数据，来达到执行远程命令的目的。漏洞危害攻击者可执行任意系统命令。修复建议升级struts至最新版本。","tags":[{"name":"web漏洞","slug":"web漏洞","permalink":"https://laoel.github.io/tags/web漏洞/"},{"name":"修复建议","slug":"修复建议","permalink":"https://laoel.github.io/tags/修复建议/"},{"name":"漏洞库","slug":"漏洞库","permalink":"https://laoel.github.io/tags/漏洞库/"},{"name":"测试指南","slug":"测试指南","permalink":"https://laoel.github.io/tags/测试指南/"}]},{"title":"一文搞定LNMP环境的搭建","date":"2019-12-04T15:59:26.000Z","path":"2019/12/04/一文搞定LNMP环境的搭建/","text":"LNMP介绍LNMP是指一组通常一起使用来运行动态网站或者服务器的自由软件名称首字母缩写。L指Linux，N指Nginx，M一般指MySQL，也可以指MariaDB，P一般指PHP，也可以指Perl或Python。 LNMP代表的就是：Linux系统下Nginx+MySQL+PHP这种网站服务器架构。Linux是一类Unix计算机操作系统的统称，是目前最流行的免费操作系统。代表版本有：debian、centos、ubuntu、fedora、gentoo等。Nginx是一个高性能的HTTP和反向代理服务器，也是一个IMAP/POP3/SMTP代理服务器。Mysql是一个小型关系型数据库管理系统。PHP是一种在服务器端执行的嵌入HTML文档的脚本语言。这四种软件均为免费开源软件，组合到一起，成为一个免费、高效、扩展性强的网站服务系统。 先更新服务器123sudo apt-get update # 获取最新资源包sudo apt-get upgrade # 本机软件全部更新sudo apt-get dist-upgrade # 本机系统软件更新 安装数据库-MySQL安装mysql最新版 12apt install mysql-serverapt install mysql-client 安装完后我们直接以空密码登录mysql，如果在安装过程中提示输入密码则使用安装过程中设置的密码。 1mysql -uroot -p 若提示 ERROR 1698 (28000): Access denied for user &#39;root&#39;@&#39;localhost&#39;，请看这篇文章 Mysql ERROR 1698 (28000) 解决 - 黑猫警长的怨念 更改mysql数据库root用户的密码。 12345use mysql;update mysql.user set authentication_string=password(&apos;admin123&apos;) where user=&apos;root&apos; and Host =&apos;localhost&apos;;update user set plugin=&quot;mysql_native_password&quot;;flush privileges;quit; 开启远程登录 找到mysql的配置文件，/etc/mysql/mysql.conf.d/mysqld.cnf，找到下面这个，在前面加个#号把它注释掉，然后重启mysql服务service mysql restart。 1#bind-address = 127.0.0.1 注意：以前mysql的配置文件为/etc/mysql/my.cnf，新版的配置文件变成了是/etc/mysql/mysql.conf.d/mysqld.cnf 安装phpmyadmin1234apt-get install phpmyadminln -s /usr/share/phpmyadmin /var/www/html/phpmyadmin#建立软连接 安装Nginx1apt-get install nginx 编辑Nginx 默认的配置文件/etc/nginx/sites-enabled/default，做如下修改 。 1/etc/init.d/nginx restart #重启Nginx服务 安装php1apt-get install php-mysql php-fpm php-curl php-xml php-gd php-mbstring php-memcached php-zip php-gettext 编辑配置文件/etc/php/7.2/fpm/php-fpm.conf，在最后面加上这句 1listen = /run/php/php7.2-fpm.sock 再编辑配置文件/etc/php/7.2/fpm/php.ini，搜索以下值，改成跟下面一样。 123display_errors = Onshort_open_tag = On;cgi.fix_pathinfo=0 然后重启服务 1service php7.2-fpm restart 测试写个phpinfo来测试一下 1echo \"&lt;?php phpinfo();?&gt;\" &gt; /var/www/html/phpinfo.php 打开浏览器，访问这个文件 http://ip/phpinfo.php，可以看到phpinfo信息显示正常就没有问题了，然后记得删掉这个文件rm /var/www/html/phpinfo.php 这里记录一下我使用的 LANP 版本。 1234567891011121314root@0o0:~# uname -aLinux 0o0 5.0.0-37-generic #40-Ubuntu SMP Thu Nov 14 00:14:01 UTC 2019 x86_64 x86_64 x86_64 GNU/Linuxroot@0o0:~# mysql --versionmysql Ver 14.14 Distrib 5.7.28, for Linux (x86_64) using EditLine wrapperroot@0o0:~# nginx -vnginx version: nginx/1.15.9 (Ubuntu)root@0o0:~# php -vPHP 7.2.24-0ubuntu0.19.04.1 (cli) (built: Oct 24 2019 11:49:39) ( NTS )Copyright (c) 1997-2018 The PHP GroupZend Engine v3.2.0, Copyright (c) 1998-2018 Zend Technologies with Zend OPcache v7.2.24-0ubuntu0.19.04.1, Copyright (c) 1999-2018, by Zend Technologies 部署一个网站-dvwa打开phpmyadmin管理页面，新增一个用户，并创建名为dvwa的数据库，如下： 编辑dvwa源码包中的配置文件/dvwa/config.inc.php 然后把文件上传到服务器/var/www/html/目录中。 再给几个文件改下权限，具体是什么文件，看/dvwa/setup.php页面。 123chmod 777 /var/www/html/dvwa/config/chmod 777 /var/www/html/dvwa/hackable/uploads/chmod 777 /var/www/html/dvwa/external/phpids/0.6/lib/IDS/tmp/phpids_log.txt 最后访问http://ip/dvwa/，之后按提示操作（创建数据库），更多安装详情，可自行百度。 扩展阅读Nginx + PHP CGI的一个可能的安全漏洞 - Laruence Nginx+Php-fpm 运行原理详解 - 子路 Ubuntu18.04新手架设网站全过程 - 帘倦西风 Ubuntu 安装 PhpMyAdmin 管理 MySQL 数据库 - 肖朋伟 渗透测试环境DVWA搭建 - faramita2016","tags":[{"name":"环境搭建","slug":"环境搭建","permalink":"https://laoel.github.io/tags/环境搭建/"},{"name":"LNMP","slug":"LNMP","permalink":"https://laoel.github.io/tags/LNMP/"}]},{"title":"一些配置小记","date":"2019-11-20T02:31:24.000Z","path":"2019/11/20/一些配置小记/","text":"Firefox关闭GET请求到detectportal.firefox.com网站的方法用火狐浏览器代理抓包时，发现总是有 http://detectportal.firefox.com/success.txt 这个请求会被拦截到，很不方便。 解决办法，在地址栏输入 about:config 搜索network.captive-portal-service.enabled 双击把true改为false就可以了。 cmd 命令把文件夹打成war包 以管理员身份运行 CMD cd到指定目录 输入以下命令即可 1jar -cvf wwwroot.war * Google浏览器如何截取网页长图https://www.liwei8090.com/14622.html","tags":[{"name":"小技巧","slug":"小技巧","permalink":"https://laoel.github.io/tags/小技巧/"}]},{"title":"在server 2012中部署weblogic","date":"2019-10-16T04:46:45.000Z","path":"2019/10/16/在server-2012中部署weblogic/","text":"Weblogic介绍Oracle WebLogic Server 是全球第一款云原生，适用于多层分布式企业应用开发和部署的企业级 Java 平台应用服务器，能够集中管理各种应用服务，如 Web 服务器功能、业务组件，以及企业后端系统访问，等等。 Oracle WebLogic Server 提供以下云就绪特性： 独特的多租户功能，有力促进大规模整合 轻型微容器架构，加强应用隔离并实现私有云与公有云之间的完全可移植性 多数据中心高可用性架构，有效防范应用中断 全面支持 Java EE 8 和 Java SE 12，帮助开发人员锐意创新，充分发挥 DevOps 的效力。 基于 Oracle WebLogic Server 的 Oracle Java 云服务，无论在本地还是云端都能访问同一平台 准备下载安装包 jdk安装包 https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html weblogic安装包 https://www.oracle.com/middleware/technologies/fusionmiddleware-downloads.html jdk 环境变量配置右击我的电脑 $\\Longrightarrow$属性 $\\Longrightarrow$ 高级系统设置$\\Longrightarrow$ 环境变量 在系统变量中 新建名为 classpath 的变量名，变量值为 1.;%JAVA_HOME%\\lib;%JAVA_HOME%\\lib\\tools.jar 新建名为 JAVA_HOME 的变量名，变量值为 jdk的安装路径，下面是我电脑中的jdk安装路径。 1C:\\Program Files\\Java\\jdk1.8.0_191 在系统变量 path 中最末尾加上 1;%JAVA_HOME%\\bin;%JAVA_HOME%\\jre\\bin 然后保存，重新打开终端，分别输入 java -version 和 javac -version ，若均显示出对应的版本信息，则说明环境变量配置成功，如下所示。 123456789101112Microsoft Windows [版本 6.3.9600](c) 2013 Microsoft Corporation。保留所有权利。C:\\Users\\Administrator&gt;java -versionjava version \"1.8.0_191\"Java(TM) SE Runtime Environment (build 1.8.0_191-b12)Java HotSpot(TM) 64-Bit Server VM (build 25.191-b12, mixed mode)C:\\Users\\Administrator&gt;javac -versionjavac 1.8.0_191C:\\Users\\Administrator&gt; 开始安装 启动安装程序 在weblogic官网下载的是一个zip压缩文件，解压后为一个jar包。 打开终端，进入安装包的存放路径，输入以下命令启动安装程序： 1java -jar fmw_12.2.1.3.0_wls.jar 选择安装路径 选择安装类型（软件功能点） 之后进入 先决条件检查，然后是安装概要，没有问题后，我们点击安装。 可以看它的安装进度，等待它安装完成即可。 部署weblogic 在开始中找到Configuration Wizard即配置向导，开始创建域。 下图所示，默认选中第一个Basic Weblogic Server ......，即创建基本的域即可。其它几种domain类型是针对特定应用的，如sip、webservice。 设置管理员账号即管理domain（修改配置、启动、停止等维护操作）的操作账号。 选择域模式和JDK。 weblogic提供两种启动模式（开发模式、生产模式）。 开发模式，启动domain是不需要输入管理账号、密码的，并且轮训部署的应用程序，如果有文件更新，会自动更新（传说中的热部署）。 生产模式，启动domain必须输入管理账号、密码。为了提高性能，不会对应用程序进行轮训，而且建议使用原先bea自带的jrockit jdk作为运行的jdk（不过自从被oracle收购之后，安装目录下未提供jrockit jdk了（需要自行下载）。 这里选择默认的开发模式，选择JDK之后，点击下一步。 高级配置（可选配置），一般涉及到集群才需要选择，这里直接下一步。 配置概要，点击创建按钮，进行domain的创建。 配置进度。 配置完毕后如下图，可以选中点击启动管理服务器立即启动服务器。或者点击完成退出安装向导界面（后面如果启动服务器，到域目录下双击startWebLogic.cmd即可。 启动服务器 到域目录下双击startWebLogic.cmd即可。 1D:\\Oracle\\Middleware\\Oracle_Home\\user_projects\\domains\\base_domain\\startWebLogic.cmd 等待一会，看到有IP+端口(7001)后说明服务器启动完毕，或者说命令窗口不动后。 登录控制台，输入之前配置的管理账号、口令。 如下，就是WebLogic Server管理控制台，可以部署war包等操作。 部署war包，这里就不介绍了，可参考下面这篇文章。与其他中间件部署war步骤大体相同。 weblogic部署web项目（war包）- 阿叮339 注意：如果需要关闭weblogic，只需关闭weblogic窗口(即启动weblogic服务器时打开的命令窗口)就可以了。 weblogic的管理账号和密码会存储在本地的boot.properties文件中，可解密出明文，并不安全。 安装过程可能遇到的有一些报错a. 不是有效的JDK java 主目录出现错误提示 1234567891011java -jar fmw_12.2.1.3.0_wls.jar启动程序日志文件为C:\\Users\\Administrator\\AppData\\Local\\Temp\\OraInstall2019-10-09_10-29-34AM\\launcher2019-10-09_10-29-34AM.log。正在提取安装程序... . . . . . . . . . . . . . . . . . . . . . . . .. . . . . . . . 完成此安装程序必须使用 Java 开发工具包 (JDK) 执行,但 C:\\Program Files\\Java\\jre1.8.0_191 不是有效的 JDK Java 主目录。日志位于此处: C:\\Users\\Administrator\\AppData\\Local\\Temp\\OraInstall2019-10-09_10-29-34AM\\launcher2019-10-09_10-29-34AM.log。按 Enter 退出 说明没有指定jdk中的java.exe程序，另外要以管理员身份运行cmd。 方法1：把安装包（jar包）移动到java.exe程序的同级目录中，然后运行java -jar fmw_12.2.1.3.0_wls.jar 方法2：直接指定jdk中的java.exe程序来运行jar包。 1D:\\fmw&gt;\"C:\\Program Files\\Java\\jdk1.8.0_191\\bin\\java\" -jar fmw_12.2.1.3.0_wls.jar 也可参考这篇文章cmd安装weblogic12c提示jre不是有效的JDK java主目录`问题解决过程 - heremy b. 找不到Configuration Wizard配置向导如果在开始程序中找不到Configuration Wizard配置向导，可以在weblogic的安装路径中找到config.cmd，运行它。 1D:\\Oracle\\Middleware\\Oracle_Home\\oracle_common\\common\\bin\\config.cmd 参考WebLogic(12C)——windows下安装教程 - M_ling 超详细 Windows下安装以及部署Weblogic - 叁念 WebLogic常见问题 - Mr_sheng weblogic部署web项目（war包）- 阿叮339","tags":[{"name":"安装","slug":"安装","permalink":"https://laoel.github.io/tags/安装/"},{"name":"weblogic","slug":"weblogic","permalink":"https://laoel.github.io/tags/weblogic/"}]},{"title":"在ubuntu18.04上安装和配置Apache2","date":"2019-10-09T06:53:40.000Z","path":"2019/10/09/在ubuntu18-04上安装和配置Apache2/","text":"apache介绍Apache HTTP Server（简称Apache）是Apache软件基金会的一个开放源码的网页服务器软件，可以在大多数计算机操作系统中运行，由于其跨平台和安全性，被广泛使用，是最流行的Web服务器端软件之一。它快速、可靠并且可通过简单的API扩展，将Perl/Python等解释器编译到服务器中。Apache HTTP服务器是一个模块化的服务器，源于NCSAhttpd服务器，经过多次修改，成为世界使用排名第一的Web服务器软件。 目录结构12/var/www/html/ # 网站根目录├── index.html 1234567891011/etc/apache2/ # Apache 配置文件的目录├── apache2.conf # Apache配置文件├── conf-available├── conf-enabled├── envvars├── magic├── mods-available├── mods-enabled├── ports.conf├── sites-available└── sites-enabled 1234/var/log/apache2/ # Apache存放日志的目录├── access.log├── error.log└── other_vhosts_access.log 安装 首先更新软件 1sudo apt update &amp;&amp; sudo apt upgrade update 和 upgrade 的区别 update 是同步 /etc/apt/sources.list 和 /etc/apt/sources.list.d 中列出的源的索引，这样才能获取到最新的软件包。 upgrade 是升级已安装的所有软件包，升级之后的版本就是本地索引里的，因此，在执行 upgrade 之前一定要执行 update, 这样才能是最新的。 安装apache2软件包 1sudo apt install apache2 查看Apache2 服务状态，看到Active: active (running)即代表服务在运行中。 1service apache2 status 浏览器打开 http://127.0.0.1 ,会看到Apache的默认页面，也就代表安装成功。 常用管理命令 命令 作用 systemctl status apache2 查看服务状态 systemctl start apache2 启用Apache Web服务 systemctl stop apache2 停止Apache Web服务 systemctl restart apache2 重启Apache Web服务 systemctl reload apache2 载入Apache配置文件 systemctl disable apache2 禁用Apache服务的开机自启设置 systemctl enable apache2 设置Apache服务为开机自启 参考如何在 Ubuntu 上安装和优化 Apache - Thishosting 如何在Ubuntu 18.04上安装Apache Web服务器 - howtoing Apache官网的一些安全配置建议","tags":[{"name":"Apache","slug":"Apache","permalink":"https://laoel.github.io/tags/Apache/"},{"name":"配置","slug":"配置","permalink":"https://laoel.github.io/tags/配置/"}]},{"title":"cve-2019-0708漏洞复现","date":"2019-10-06T06:22:51.000Z","path":"2019/10/06/cve-2019-0708漏洞复现/","text":"文章待补充 CVE-2019-0708 | 远程桌面服务远程执行代码漏洞 当未经身份验证的攻击者使用RDP连接到目标系统并发送特制请求时，远程桌面服务（以前称为终端服务）中存在一个远程执行代码漏洞。此漏洞是预先认证的，不需要用户交互。成功利用此漏洞的攻击者可以在目标系统上执行任意代码。然后，攻击者可能会安装程序。查看，更改或删除数据；或创建具有完全用户权限的新帐户。 要利用此漏洞，攻击者需要通过RDP向目标系统远程桌面服务发送特制请求。 此更新通过更正远程桌面服务处理连接请求的方式来解决漏洞。 EXP公开Metasploit 在博客和推特上相继发布消息称，Metasploit正式集成针对CVE-2019-0708（也称为BlueKeep）的漏洞利用模块，虽然目前的初始版本只适用于64位版本的Windows 7和Windows 2008 R2，但也释放出了一个威胁信号，无数潜在攻击者已经开始关注到这个信息，随着后续模块更新，BlueKeep漏洞的威力也会逐渐显现出来。 Windows7 复现过程 输入msfconsole打开msf，确保版本是5.0以上的。 参考文章https://www.freebuf.com/vuls/213745.html https://portal.msrc.microsoft.com/en-US/security-guidance/advisory/CVE-2019-0708 https://github.com/rapid7/metasploit-framework/pull/12283","tags":[{"name":"CVE","slug":"CVE","permalink":"https://laoel.github.io/tags/CVE/"}]},{"title":"CFOP  公式图  超清版","date":"2019-10-04T14:52:15.000Z","path":"2019/10/04/CFOP-公式图-超清版/","text":"点此查看","tags":[{"name":"CFOP公式","slug":"CFOP公式","permalink":"https://laoel.github.io/tags/CFOP公式/"},{"name":"魔方","slug":"魔方","permalink":"https://laoel.github.io/tags/魔方/"}]},{"title":"网络安全聚合列表","date":"2019-10-04T14:43:55.000Z","path":"2019/10/04/网络安全聚合列表/","text":"安全 | 社区 | 平台 | 媒体乌云知识库 铁匠运维网 i春秋社区 先知社区 看雪论坛 吾爱破解 安全博客 freebuf 漏洞银行 安全客 seebug sec-wiki mottoin 安全牛 E安全 即刻安全 撕吼 游侠安全网 漏洞时代 华盟网 iOSRE | 逆 0x00sec kali linux 破壳 信息安全知识库 漏洞库乌云镜像 CVE cybercrime Exploit Database 同程SRC - 公开漏洞 比戈大牛漏洞列表 Blog尼古拉斯.赵四 nMask风陵渡口 itPoet Neurohazard 小小吴 危险漫步 masterxsec volatileminds 阿德马Web安全 lynn 360Unicorn seebug-Paper A.T365 Cracer 安全 安全帮 红日攻防 蓝鲸安全 dewhurst codemetrix à ō é study优质安全列表 Web-Security-Learning OWASP测试指南 飞龙 逆向教程 iOS 安全攻防 移动安全入门 owasp-mstg Kali Linux 渗透 Android Developer Apple Developer 众测平台阿里先知 漏洞盒子 CNVD 教育行业(Beta) seebug 比戈大牛 SRCs | src收录列表 360SRC TSRC ASRC USRC 网易SRC 信息收集 | 加密解密 | 在线检测Whois查询 微步在线 FOFA Pro SEO查询 ZoomEye BugScaner C段查询 C段 | 5kik ipip.net Shodan XSS平台 SOMD5 chamd5 MD5 &amp; SHA1 dmd5 梆梆-APP检测 360显危镜 腾讯哈勃 百度云观测 UpGuard 安全招聘freebuf招聘站 i春秋招聘专版 安全脉搏招聘贴 看雪论坛招聘专区 先知社区招聘贴 安全牛招聘站 吾爱破解招聘区 mottoin招聘贴 others铁匠运维网友链 Web安全常见漏洞修复建议 - 平安安全博客 Goole Code 国外信息安全Feed源 Web安全漏洞加固手册 常见漏洞和解决办法-360","tags":[{"name":"网络安全","slug":"网络安全","permalink":"https://laoel.github.io/tags/网络安全/"},{"name":"信息安全","slug":"信息安全","permalink":"https://laoel.github.io/tags/信息安全/"}]},{"title":"一些web安全漏洞介绍和修复建议","date":"2019-10-04T14:42:47.000Z","path":"2019/10/04/一些web安全漏洞介绍和修复建议/","text":"高危-SQL注入【漏洞危害】 [1] 攻击者通过SQL注入，能够直接获取数据库敏感数据，设置通过数据库执行系统命令。 【解决方法】 [1] 使用全局过滤器，过滤特殊字符，正确处理数据类型。包括但不限于以下字符及字符串：select and or like regxpfrom where update exec order by having drop delete ( ) [ ] &lt; &gt; , . ; : ‘“ # % + - _ = / * @。 [2] 预编译 SQL 语句，而不要动态组装 SQL 语句，否则必须确保在使用输入的数据组装成SQL 语句之前，对特殊字符进行预处理。 [3] 以最小权限执行 SQL 语句。 [4] 屏蔽错误回显。 [5] 必要时，限制长度。 高危-存储型XSS【漏洞危害】 [1] 攻击者通过存储型XSS，不仅能够进行钓鱼，窃取用户登录会话，甚至能够直接控制浏览器，或者引发蠕虫攻击。 【解决方法】 [1] 检查网站所有用户输入数据的地方是否有进行过滤处理。过滤处理包括但不限于以下字符及字符串：Javascript script src imgonerror { } ( ) &lt; &gt; = , . ; : “ ‘ # ! / * \\。 [2] 根据页面的输出背景环境，对输出进行编码或使用一个统一的规则和库做输出编码，使用安全框架进行安全编码。 [3] 对于富文本框，使用白名单控制输入，而不是黑名单。 高危-未授权访问【漏洞危害】 [1] 权限控制不当，会造成网站数据非法篡改等。 [2] 泄露敏感数据。 【解决方法】 [1] 权限控制。 [2] 需登录的系统，页面的权限不可含空用户。 低危-敏感信息明文传输【漏洞危害】 [1] 由于用户认证在传输过程中没有进行加密，第三方可以通过中途拦截非加密的HTTP连接，读取用户认证信息。攻击者获得该信息后，登录前台或后台，篡改用户前台或后台信息等。 【解决方法】 [1] 使用业界较为安全的算法，诸如非对称算法等对传输过程中的用户名、密码、银行卡号等业务敏感信息进行加密处理。 [2] 网站部署HTTPS协议。 中危-用户猜测【漏洞危害】 [1] 攻击者能够快速定位到存在的用户，并进行针对性的攻击，进而较少攻击成本。 [2] 攻击者通过用户名猜测和验证码失效进行组合攻击。 【解决方法】 [1] 统一错误回显。 [2] 使用账号锁定策略。 [3] 使用复杂的验证码。 低危-默认报错信息【漏洞危害】 [1] 造成信息泄露，诸如中间件版本，数据库的列名或相关的查询语句等信息，给攻击者的下一步攻击做准备。 【解决方法】 [1] 优化代码从而避免程序报错。 [2] 隐藏默认报错页面中的敏感信息，自定义错误页面来屏蔽错误信息，统一回显错误信息。 中危-CSRF跨站请求伪造【漏洞危害】 [1] CSRF跨站请求伪造攻击可以在受害者毫不知情的情况下以受害者名义伪造请求发送给受攻击站点，从而在并未授权的情况下执行在权限保护之下的操作。 【解决方法】 [1] 在所有请求地址中添加 token 并验证。 [2] 验证 HTTP Referer 字段。 [3] 敏感操作需要验证码，更改密码需要验证老密码。 [4] 在HTTP头中自定义属性并验证。。 高危-任意文件上传【漏洞危害】 [1] 攻击者可以上传任意文件（包括后门文件等）直接控制服务器。 【解决方法】 [1] 检测上传元信息。 [2] 服务器端严格校验文件后缀。 [3] 根据业务，正确放回响应头（Content-Type）。 [4] 校验上传文件的内容。 中危-Apache Tomcat样例目录session操纵【漏洞危害】 [1] 攻击者可以通过操纵session获取管理员权限。 【解决方法】 [1] 删除tomcat示例文件等不必要的数据。 网站存在Apache Tomcat样例目录，又ession是全局通用的，所以用户可以通过操纵session获取管理员权限，具体利用过程可看以下链接： http://blog.51cto.com/chenjc/1434858 ApacheTomcat样例目录session操纵漏洞-龙与小妞-51CTO博客 低危-重放攻击【漏洞危害】 [1] 攻击者可以重放添加发起问卷的请求包，耗费后台资源。 【解决方法】 [1] 对账号新增数据包添加token唯一标识，每次成功之后必须更新toekn才能重新进行。 [2] 检验特定字段的唯一性。 中危-敏感信息泄露【漏洞危害】 [1] 信息泄露。 【解决方法】 [1] 屏蔽敏感信息，数据返回包去掉不必要的敏感信息。 [2] 用户密码等敏感信息，不要存储在前端。 中危-登录验证码绕过【漏洞危害】 [1] 验证码不失效，导致攻击者能够不断重放请求，爆破管理员账号。 【解决方法】 [1] 添加验证码的次数限制。 低危-使用GET方法传输业务敏感信息【漏洞危害】 [1] 信息泄露。 【解决方法】 [1] 使用POST方法传输用户名和密码等敏感信息。 低危-目录浏览【漏洞危害】 [1]信息泄露以及暴露网站的目录结构。 【解决方法】 [1] 页面权限控制。 [2] 关闭目录浏览功能。 高危-越权访问【漏洞危害】 [1] 权限控制不当，会造成网站数据非法篡改等。 【解决方法】 [1] 验证一切来自客户端的参数，重点是和权限相关的参数，比如用户ID或者角色权限ID等。 [2] session ID 和认证的token做绑定，放在服务器的会话里，不发送给客户端。 [3] 对于用户登录后涉及用户唯一信息的请求，每次都要验证检查所有权，敏感信息页面加随机数的参数，防止浏览器缓存内容。 高危-服务端请求伪造攻击SSRF【漏洞危害】 [1] 对外网、服务器所在内网、本地进行端口扫描，获取一些服务的banner信息。 [2] 攻击运行在内网或本地的应用程序（比如溢出）。 [3] 对内网web应用进行指纹识别，通过访问默认文件实现。 [4] 攻击内外网的web应用。 [5] 利用file协议读取本地文件等。。 【解决方法】 [1] 过滤返回信息，验证远程服务器对请求的响应是比较容易的方法。如果web应用是去获取某一种类型的文件,那么在把返回结果展示给用户之前先验证返回的信息是否符合标准。 [2] 统一错误信息，避免用户可以根据错误信息来判断远端服务器的端口状态。 [3] 限制请求的端口为http常用的端口。 [4] 黑名单内网ip，避免应用被用来获取获取内网数据，攻击内网。 [5] 禁用不需要的协议。","tags":[{"name":"web漏洞","slug":"web漏洞","permalink":"https://laoel.github.io/tags/web漏洞/"},{"name":"修复建议","slug":"修复建议","permalink":"https://laoel.github.io/tags/修复建议/"}]},{"title":"近期爆出的大漏洞 值得记录","date":"2019-10-04T14:41:56.000Z","path":"2019/10/04/近期爆出的大漏洞-值得记录/","text":"成功获取WinRAR 19年历史代码执行漏洞 https://research.checkpoint.com/extracting-code-execution-from-winrar/ 2019年2月20日 研究人员： Nadav Grossman “水滴”来袭：详解Binder内核通杀漏洞 http://blogs.360.cn/post/Binder_Kernel_Vul_CH.html 2019年3月4日 作者: Hongli Han(@hexb1n) of Qihoo 360 C0RE Team 关于Oracle WebLogic wls9-async组件存在反序列化远程命令执行漏洞的安全公告 http://www.cnvd.org.cn/webinfo/show/4989 2019-04-17 CNVD","tags":[{"name":"漏洞","slug":"漏洞","permalink":"https://laoel.github.io/tags/漏洞/"},{"name":"漏洞预警","slug":"漏洞预警","permalink":"https://laoel.github.io/tags/漏洞预警/"}]},{"title":"网络安全 方面 好文章 摘录","date":"2019-10-04T14:41:42.000Z","path":"2019/10/04/网络安全-方面-好文章-摘录/","text":"Android 第三方加固方案 对比 https://www.cnblogs.com/baiqiantao/p/9286449.html 20180709 白乾涛 App漏洞扫描哪家强？ http://blog.sina.com.cn/s/blog_3eecddd20102yf65.html 20181228 移动互联网李建华 Android-APP安全系列文章 作者：Lemon Android-APP安全测试（一） Android-APP安全测试（二） Android-APP安全测试（三） Android-APP安全（四）之流量分析与内外存储 Android-APP 安全（五）之android取证-文件系统与数据结构 Android-APP 安全（六）之android取证","tags":[{"name":"技术文章","slug":"技术文章","permalink":"https://laoel.github.io/tags/技术文章/"},{"name":"摘录","slug":"摘录","permalink":"https://laoel.github.io/tags/摘录/"}]},{"title":"网络安全 好书 摘记","date":"2019-10-04T13:21:21.000Z","path":"2019/10/04/网络安全-好书-摘记/","text":"web安全 白帽子讲Web安全（纪念版） https://item.jd.com/11483966.html 出版时间：2014-06-01 吴翰清 著 Web安全深度剖析 https://item.jd.com/11673055.html 出版时间：2015-04-01 张炳帅 著 Web安全攻防：渗透测试实战指南 https://item.jd.com/12401707.html 出版时间：2018-07-01 徐焱，李文轩，王东亚 著 内网安全攻防：渗透测试实战指南 https://item.jd.com/12743210.html 出版时间：2019-11-01 徐焱，贾晓璐 著 Web攻防之业务安全实战指南 https://item.jd.com/12306251.html 出版时间：2018-03-01 陈晓光 胡兵 张作峰 等 著 移动安全 Android软件安全权威指南 https://item.jd.com/12522178.html 出版时间：2019-03-01 丰生强 著 Android应用安全防护和逆向分析 https://item.jd.com/12271376.html 出版时间：2017-12-01 姜维 著 iOS应用逆向与安全 https://item.jd.com/12361729.html 出版时间：2018-06-01 刘培庆 著 iOS应用逆向工程 第2版 https://item.jd.com/11670145.html 出版时间：2015-04-01 沙梓社，吴航 著 IoT安全 硬件安全攻防大揭秘 https://item.jd.com/12024487.html 出版时间：2017-02-01 360独角兽安全团队（UnicornTeam），简云定，杨卿 等 著 无线电安全攻防大揭秘 https://item.jd.com/11915577.html 出版时间：2016-04-01 360独角兽安全团队（UnicornTeam） 著 甲方安全建设 企业安全建设指南：金融行业安全架构与技术实践 https://item.jd.com/12570616.html 出版时间：2019-04-01 聂君，李燕，何扬军 著 数据安全架构设计与实战 https://item.jd.com/12731728.html 出版时间：2019-11-01 郑云文 著 网络安全态势感知 提取、理解和预测 https://item.jd.com/12410450.html 出版时间：2018-07-01 杜嘉薇，周颖，郭荣华，索国伟 著","tags":[{"name":"摘录","slug":"摘录","permalink":"https://laoel.github.io/tags/摘录/"},{"name":"书籍推荐","slug":"书籍推荐","permalink":"https://laoel.github.io/tags/书籍推荐/"}]},{"title":"我的面经，渗透测试","date":"2019-10-03T03:24:31.000Z","path":"2019/10/03/我的面经，渗透测试/","text":"00x00 摘要笔者作为网络安全的初识者，从求职者的角度总结了一点点关于渗透测试工程师求职面试的要点给即将毕业的大学生（实习生和应届生）予以参考，以便能更好更快地找到一份自己满意的工作。总结基于笔者本人的几次面试经历，都是自己在各招聘网投简历（广州的几家公司）。 这里简单自我介绍一下： 我自学web渗透和Android逆向半年有余，目前已有将近一年的实习经验，计算机网络专业的专科生，通过赛事接触web渗透，实习时接触Android逆向，继而初识网络安全。没有什么值得吹嘘的事，O(∩_∩)O哈哈~，没事就学习研究。比较感兴趣的方向有：WEB渗透测试、Android逆向、IOT安全、等级保护。 个人博客 https://laoel.github.io 00x01 现场面试准备 简历（打印3份以上，彩色），身份证，毕业证等资料； 电脑（吃饭的家伙，无线鼠标，电源线等）； 本子和笔，着装整洁，守时（约好时间，提前20分钟到）； 面试公司的认识（地点，看看公司官网，了解公司发展时间戳，部门等）。 00x02 对于电话面试（技术员工）- 可看着读a. 约好时间并提前15分钟找个安静，没人打扰的地方，注意手机电量和信号； b. 站着进行电话面试，保持微笑，通话可录音； c. 一份简历，本子和笔，耳机等（看着简历来）； d. 先想好，面试官会问的问题及答案，记要点（渗透测试的思路等）。 00x03 面试官问的问题（技术员工或部门经理+HR）Q1 自我介绍1）可参照简历 2）有条理（三分钟左右） Q2 一个网站的渗透测试思路，流程（给你一个网站，怎么做？）1）信息收集 a. 服务器的相关信息（真实ip，系统类型，版本，开放端口，WAF等） b. 网站指纹识别（包括，cms，cdn，证书等），dns记录 c. whois信息，姓名，备案，邮箱，电话反查（邮箱丢社工库，社工准备等） d. 子域名收集，旁站查询(有授权可渗透)，C段等 e. google hacking针对化搜索，pdf文件，中间件版本，弱口令扫描等 f. 扫描网站目录结构，爆后台，网站banner，文件等敏感文件泄漏等 i. 传输协议，通用漏洞，exp，github源码等 2）漏洞挖掘 1&gt; 浏览网站，看看网站规模，功能，特点等 2&gt; 端口，弱口令，目录等扫描 3&gt; XSS，SQL注入，命令注入，CSRF，cookie安全检测，敏感信息，通信数据传输，暴力破解，任意文件上传，越权访问，未授权访问，目录遍历，文件包含，重放攻击（短信轰炸），服务器漏洞检测，最后使用漏扫工具等 3）漏洞利用 | 权限提升 a) mysql提权，serv-u提权，linux内核版本提权等 4）清除测试数据 | 输出报告 i 日志、测试数据的清理 ii 总结，输出渗透测试报告，附修复方案 5) 复测 验证并发现是否有新漏洞，输出报告，归档Q3 一个APP的逆向分析思路（给你一个APP，怎么做？）这里简单列一下app测试的大纲，详细不便放出（可参照OWASP的 mstg）： 1代码保护检测，2数据存储安全，3加密算法，4四大组件安全，5应用规范等（ 具体的可关注我 的博客，后续会发布相关的文章 ）。 Q4 简述某一漏洞的原理和渗透手法（SQL注入，XSS，CSRF等）SQL注入- 百度百科 SQL注入原理 a. SQL（结构化语句查询） b. 提交参数（调用数据库查询）的地方是用户可控的，并未做任何过滤处理 c. 分 数字型，字符型，搜索型，POST注入，Cookie注入，延时注入，盲注等 SQL注入，注入方法 1）如果是get型号，直接，sqlmap-u “注入点URL”. 2) 如果是post型诸如点，可以sqlmap-u “注入点URL” –data=”post的参数” 3）如果是cookie，X-Forwarded-For等，可以访问的时候，用burpsuite抓包，注入处用 * 号替换，放到文件里，然后sqlmap -r “文件地址” XSS跨站脚本攻击 - 百度百科 XSS原理 网站未对用户输入的数据做过滤处理，构造特定的JS脚本插入到文本框可引发XSS，会被浏览器解析，执行。 XSS常见攻击语句 12345&lt;BODY onload=\"alert('XSS')\"&gt;&lt;script&gt;alert(document.cookie)&lt;/script&gt;&lt;iframe src=\"javascript:alert(1)\"&gt;&lt;/iframe&gt;&lt;svg /onload=prompt(1)&gt;&lt;img src=\" \"=\" \" onerror=\"alert('xss')\"&gt; Q5 语言1，python，JAVA，算法，二进制等编程能力（笔者暂未学，不深入探讨） 2，ARM汇编（基本的汇编指令，寄存器等） 3，英语（CET-4，CET-6） Q6 WAF bypass1，关键字可以用%（只限IIS系列）。比如select，可以sel%e%ct 2，通杀的，内联注释，如/!select/ 3，编码，可两次编码 4，multipart请求绕过，在POST请求中添加一个上传文件，绕过了绝大多数WAF 5，参数绕过，复制参数，id=1&amp;id=1 6，内联注释 Q7 Kali的使用（Linux系统）kali菜单中各工具功能 - 努力改个网名 - 博客园 whatweb 指纹识别 dirb 目录扫描 whois whois查询 无线攻击套件 字典生成套件 爆破工具 Q8 OWASP-Top10web A1 注入， A2 失效的身份认证， A3 敏感信息泄露， A4 XML外部实体(XXE)， A5 失效的访问控制， A6 安全配置错误， A7 跨站脚本(XSS)， A8 不安全的反序列化， A9 使用含有已知漏洞的组件， A10 不足的日志记录和监控 https://www.owasp.org/index.php/Top_10-2017_Top_10h mobile M1-平台使用不当，M2-不安全的数据存储，M3-不安全的通信，M4-不安全的身份验证，M5-加密不足，M6-不安全的授权，M7-客户端代码质量问题，M8-代码篡改，M9-逆向工程，M10-无关的功能 https://www.owasp.org/index.php/Mobile_Top_10_2016-Top_10 Q9 网络安全事件应急响应（如，一业务主站被挂黑页的处理流程及应对方法）1. 取证，登录服务器，备份，检查服务器敏感目录，查毒（搜索后门文件 - 注意文件的时间，用户，后缀等属性），调取日志（系统日志，中间件日志，WAF日志等）； 2. 处理，恢复备份（快照回滚，最近一次），确定入侵方法（漏洞检测，并进行修复） 3. 溯源，查入侵IP，入侵手法（网路攻击事件）的确定等 4. 记录，归档--------预防-事件检测-抑制-根除-恢复-跟踪-记录通用漏洞的应对等其他安全应急事件 Q10 提交过的漏洞国内外的漏洞提交平台（先知、漏洞盒子），各SRC等 Q11 其他优势1，新兴技术的研究（IOT安全，区块链，人工智能，机器学习等） 2，个人博客（原创文章），投稿，人脉，安全峰会，安全研究Paper, 安全议题分享等 3，比赛（CTF，团队比赛等），线下培训 4，在校经历（获奖，个人项目，团队活动，担任学生干部等） Q12 读过的技术书籍（学习的途径）《白帽子讲web安全》、《ios应用逆向工程-第2版》、《Android应用安全防护和逆向分析》、《汇编语言-第3版》、《OWASP-MSTG》、《C#灰帽子：设计安全测试工具》 00x04 问面试官的问题q1 贵公司，信息安全部门的规模，发展等 q2 劳动合同（实习生签三方协议和转正问题），是否解决户口 q3 薪资（税后），奖金，股票期权，福利，活动，补贴 等 q4 任职后的工作职责，内容，出差，时间等 00x05 面试总结 记录面试官的问题和自己的回答 查漏补缺 收获 是否通过，下次面试或报道入职时间 00x06 扩展阅读网络安全、Web安全、渗透测试之笔经面经总结（三） - christychang Web 安全渗透方面的学习路线? - 知乎 【分享】一套实用的渗透测试岗位面试题，你会吗？ - Shun’s Blog 面试前都需要做些什么准备？- 知乎","tags":[{"name":"面试经验","slug":"面试经验","permalink":"https://laoel.github.io/tags/面试经验/"},{"name":"渗透测试","slug":"渗透测试","permalink":"https://laoel.github.io/tags/渗透测试/"}]},{"title":"markdown 语法介绍","date":"2019-09-29T02:02:40.000Z","path":"2019/09/29/markdown-语法介绍/","text":"原文地址 http://editor.md.ipandao.com/examples/full.html Editor.md Heading 1Heading 2Heading 3Heading 4Heading 5Heading 6Heading 1 link Heading linkHeading 2 link Heading linkHeading 3 link Heading linkHeading 4 link Heading link Heading link Heading linkHeading 5 link Heading linkHeading 6 link Heading link标题（用底线的形式）Heading (underline)This is an H1This is an H2字符效果和横线等 删除线 删除线（开启识别HTML标签时）斜体字 斜体字粗体 粗体粗斜体 粗斜体 上标：X2，下标：O2 缩写(同HTML的abbr标签) 即更长的单词或短语的缩写形式，前提是开启识别HTML标签时，已默认开启 The HTML specification is maintained by the W3C. 引用 Blockquotes 引用文本 Blockquotes 引用的行内混合 Blockquotes 引用：如果想要插入空白换行即&lt;br /&gt;标签，在插入处先键入两个以上的空格然后回车即可，普通链接。 锚点与链接 Links普通链接 普通链接带标题 直接链接：https://github.com 锚点链接 mailto:test.test@gmail.com GFM a-tail link @pandao 邮箱地址自动链接 test.test@gmail.com www@vip.qq.com @pandao 多语言代码高亮 Codes行内代码 Inline code执行命令：npm install marked 缩进风格即缩进四个空格，也做为实现类似 &lt;pre&gt; 预格式化文本 ( Preformatted Text ) 的功能。 &lt;?php echo &quot;Hello world!&quot;; ?&gt;预格式化文本： | First Header | Second Header | | ------------- | ------------- | | Content Cell | Content Cell | | Content Cell | Content Cell |JS代码 123456789101112131415161718192021222324252627282930313233343536function test() &#123; console.log(\"Hello world!\");&#125; (function()&#123; var box = function() &#123; return box.fn.init(); &#125;; box.prototype = box.fn = &#123; init : function()&#123; console.log('box.init()'); return this; &#125;, add : function(str) &#123; alert(\"add\", str); return this; &#125;, remove : function(str) &#123; alert(\"remove\", str); return this; &#125; &#125;; box.fn.init.prototype = box.fn; window.box =box;&#125;)();var testBox = box();testBox.add(\"jQuery\").remove(\"jQuery\"); HTML 代码 HTML codes1234567891011121314151617&lt;!DOCTYPE html&gt;&lt;html&gt; &lt;head&gt; &lt;mate charest=\"utf-8\" /&gt; &lt;meta name=\"keywords\" content=\"Editor.md, Markdown, Editor\" /&gt; &lt;title&gt;Hello world!&lt;/title&gt; &lt;style type=\"text/css\"&gt; body&#123;font-size:14px;color:#444;font-family: \"Microsoft Yahei\", Tahoma, \"Hiragino Sans GB\", Arial;background:#fff;&#125; ul&#123;list-style: none;&#125; img&#123;border:none;vertical-align: middle;&#125; &lt;/style&gt; &lt;/head&gt; &lt;body&gt; &lt;h1 class=\"text-xxl\"&gt;Hello world!&lt;/h1&gt; &lt;p class=\"text-green\"&gt;Plain text&lt;/p&gt; &lt;/body&gt;&lt;/html&gt; 图片 ImagesImage: Follow your heart. 图为：厦门白城沙滩 图片加链接 (Image + Link)： 图为：李健首张专辑《似水流年》封面 列表 Lists无序列表（减号）Unordered Lists (-) 列表一 列表二 列表三 无序列表（星号）Unordered Lists (*) 列表一 列表二 列表三 无序列表（加号和嵌套）Unordered Lists (+) 列表一 列表二 列表二-1 列表二-2 列表二-3 列表三 列表一 列表二 列表三 有序列表 Ordered Lists (-) 第一行 第二行 第三行 GFM task list GFM task list 1 GFM task list 2 GFM task list 3 GFM task list 3-1 GFM task list 3-2 GFM task list 3-3 GFM task list 4 GFM task list 4-1 GFM task list 4-2 绘制表格 Tables 项目 价格 数量 计算机 $1600 5 手机 $12 12 管线 $1 234 First Header Second Header Content Cell Content Cell Content Cell Content Cell First Header Second Header Content Cell Content Cell Content Cell Content Cell Function name Description help() Display the help window. destroy() Destroy your computer! Left-Aligned Center Aligned Right Aligned col 3 is some wordy text $1600 col 2 is centered $12 zebra stripes are neat $1 Item Value Computer $1600 Phone $12 Pipe $1 特殊符号 HTML Entities Codes&copy; &amp; &uml; &trade; &iexcl; &pound;&amp; &lt; &gt; &yen; &euro; &reg; &plusmn; &para; &sect; &brvbar; &macr; &laquo; &middot; X&sup2; Y&sup3; &frac34; &frac14; &times; &divide; &raquo; 18&ordm;C &quot; &apos; [========] Emoji表情 :smiley: Blockquotes :star: GFM task lists &amp; Emoji &amp; fontAwesome icon emoji &amp; editormd logo emoji :editormd-logo-5x: :smiley: @mentions, :smiley: #refs, links, formatting, and tags supported :editormd-logo:; list syntax required (any unordered or ordered list supported) :editormd-logo-3x:; [ ] :smiley: this is a complete item :smiley:; []this is an incomplete item test link :fa-star: @pandao; [ ]this is an incomplete item :fa-star: :fa-gear:; :smiley: this is an incomplete item test link :fa-star: :fa-gear:; :smiley: this is :fa-star: :fa-gear: an incomplete item test link; 反斜杠 Escape*literal asterisks* [========] 科学公式 TeX(KaTeX)$$E=mc^2$$ 行内的公式$$E=mc^2$$行内的公式，行内的$$E=mc^2$$公式。 $$x &gt; y$$ $$(\\sqrt{3x-1}+(1+x)^2)$$ $$\\sin(\\alpha)^{\\theta}=\\sum_{i=0}^{n}(x^i + \\cos(f))$$ 多行公式： 12345\\displaystyle\\left( \\sum\\_&#123;k=1&#125;^n a\\_k b\\_k \\right)^2\\leq\\left( \\sum\\_&#123;k=1&#125;^n a\\_k^2 \\right)\\left( \\sum\\_&#123;k=1&#125;^n b\\_k^2 \\right) 123456789\\displaystyle \\frac&#123;1&#125;&#123; \\Bigl(\\sqrt&#123;\\phi \\sqrt&#123;5&#125;&#125;-\\phi\\Bigr) e^&#123; \\frac25 \\pi&#125;&#125; = 1+\\frac&#123;e^&#123;-2\\pi&#125;&#125; &#123;1+\\frac&#123;e^&#123;-4\\pi&#125;&#125; &#123; 1+\\frac&#123;e^&#123;-6\\pi&#125;&#125; &#123;1+\\frac&#123;e^&#123;-8\\pi&#125;&#125; &#123;1+\\cdots&#125; &#125; &#125; &#125; 123f(x) = \\int_&#123;-\\infty&#125;^\\infty \\hat f(\\xi)\\,e^&#123;2 \\pi i \\xi x&#125; \\,d\\xi 分页符 Page break Print Test: Ctrl + P [========] 绘制流程图 Flowchart12345678st=&gt;start: 用户登陆op=&gt;operation: 登陆操作cond=&gt;condition: 登陆成功 Yes or No?e=&gt;end: 进入后台st-&gt;op-&gt;condcond(yes)-&gt;econd(no)-&gt;op [========] 绘制序列图 Sequence Diagram1234Andrew-&gt;China: Says Hello Note right of China: China thinks\\nabout it China--&gt;Andrew: How are you? Andrew-&gt;&gt;China: I am good thanks! End","tags":[{"name":"md","slug":"md","permalink":"https://laoel.github.io/tags/md/"},{"name":"markdown","slug":"markdown","permalink":"https://laoel.github.io/tags/markdown/"},{"name":"语法介绍","slug":"语法介绍","permalink":"https://laoel.github.io/tags/语法介绍/"}]},{"title":"博客搭建小记","date":"2019-09-28T09:36:06.000Z","path":"2019/09/28/博客搭建小记/","text":"叙博客 主要用来写 技术文章，记录自己的知识，也希望可以帮助到他人少走弯路。 搭建参考先参照了下列文章，进行了初步搭建 超详细Hexo+Github博客搭建小白教程 - 韦阳 通过GitHub和Hexo来搭建自己的个人博客 - Jowan 过程简单来说 安装 git Node.js（附带有npm），然后分别输入 node -v npm -v git --version ，如果显示出对应的版本号，就说明安装成功了。 安装hexo，输入 npm install hexo-cli -g 即可。然后输入 hexo -v 验证是否安装成功。 添加国内镜像源，下面这个是 淘宝的国内镜像。 1npm config set registry https://registry.npm.taobao.org 注册github账号，新建一个项目，名称为 your_username.github.io 。 本地找个存放博客文件的目录，准备建立博客。 输入 hexo init 初始化文件夹； 输入 npm install 安装必备的组件； 输入 hexo g 生成静态网页； 输入 hexo s 打开本地服务器； 浏览器访问 http://localhost:4000 ，就可以看到我们的博客啦。 配置ssh key，参照 GitHub搭建博客配置SSH - 空旷在远方 修改博客根目录下的 _config.yml 文件。 1234deploy: type: git repository: https://github.com/godweiyang/godweiyang.github.io branch: master repository修改为你自己的github项目地址。 发布博客到 自己的github项目上 。 12hexo ghexo d 更换博客主题以及主题的相关配置，极力推荐 https://github.com/chaooo/hexo-theme-BlueLake 相关配置看这篇 BlueLake博客主题的详细配置 - 秋过冬漫长 安装一些插件 npm install hexo-generator-feed 添加RSS npm install hexo-generator-sitemap 添加网站地图 npm install hexo-generator-baidu-sitemap 添加百度收录 到这一步，基本就可以了。更多配置，后续补充。 各种优化 Hexo NexT 站内搜索 站点统计 RSS订阅 字数统计 阅读时长 进度条 图片放大 Canvas背景 DaoVoice聊天 Gitalk评论 功能配置 - Sweet、汤圆儿 Hexo七牛云图床使用 - 晒月亮的孩子 写作技巧 hexo博客 页面配置 https://xaoxuu.com/wiki/material-x/pages/index.html hexo 创建文章、标签、分类的Front-matter - hiekay https://www.jianshu.com/p/6e4af897a3f0 Markdown 语法介绍 https://coding.net/help/doc/project/markdown.html Markdown 在线编辑器 http://editor.md.ipandao.com/examples/full.html","tags":[{"name":"杂文","slug":"杂文","permalink":"https://laoel.github.io/tags/杂文/"},{"name":"博客","slug":"博客","permalink":"https://laoel.github.io/tags/博客/"}]}]